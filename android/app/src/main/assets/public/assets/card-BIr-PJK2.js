import{c as T,r as l,H as G,n as V,j as r,P as O,p as Re,B as Oa,C as Ia,y as z,E as ae,F as La,G as lo,I as co,q as Fa,M as uo,t as ee,N as za,O as $a,a as y,o as Ke,l as Ot,U as Wa,w as Ha,s as H,v as de,u as It,X as Lt,Q as Ft,W as mo,A as qa,L as he,Y as fo,J as Pe,b as Va}from"./index-C_D-5Bfv.js";import{B as L,a as ho,M as po,S as go,u as vo,C as xo,b as Ua}from"./index-BtotK06U.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ge=T("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Je=T("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bo=T("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yo=T("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wo=T("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dd=T("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const No=T("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jo=T("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const So=T("FileDown",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Co=T("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ko=T("FileUp",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ba=T("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eo=T("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Po=T("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xa=T("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rt=T("ListChecks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ro=T("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oa=T("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ao=T("MessageSquareText",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}],["path",{d:"M13 8H7",key:"14i4kc"}],["path",{d:"M17 12H7",key:"16if0g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mo=T("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Do=T("PackageOpen",[["path",{d:"M12 22v-9",key:"x3hkom"}],["path",{d:"M15.17 2.21a1.67 1.67 0 0 1 1.63 0L21 4.57a1.93 1.93 0 0 1 0 3.36L8.82 14.79a1.655 1.655 0 0 1-1.64 0L3 12.43a1.93 1.93 0 0 1 0-3.36z",key:"2ntwy6"}],["path",{d:"M20 13v3.87a2.06 2.06 0 0 1-1.11 1.83l-6 3.08a1.93 1.93 0 0 1-1.78 0l-6-3.08A2.06 2.06 0 0 1 4 16.87V13",key:"1pmm1c"}],["path",{d:"M21 12.43a1.93 1.93 0 0 0 0-3.36L8.83 2.2a1.64 1.64 0 0 0-1.63 0L3 4.57a1.93 1.93 0 0 0 0 3.36l12.18 6.86a1.636 1.636 0 0 0 1.63 0z",key:"12ttoo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zt=T("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const To=T("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _o=T("Route",[["circle",{cx:"6",cy:"19",r:"3",key:"1kj8tv"}],["path",{d:"M9 19h8.5a3.5 3.5 0 0 0 0-7h-11a3.5 3.5 0 0 1 0-7H15",key:"1d8sl"}],["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ya=T("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ka=T("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sa=T("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ga=T("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ja=T("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qe=T("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ia=T("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rt=T("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);var gt=0;function Qa(){l.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??la()),document.body.insertAdjacentElement("beforeend",e[1]??la()),gt++,()=>{gt===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),gt--}},[])}function la(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var vt="focusScope.autoFocusOnMount",xt="focusScope.autoFocusOnUnmount",ca={bubbles:!1,cancelable:!0},Oo="FocusScope",$t=l.forwardRef((e,t)=>{const{loop:a=!1,trapped:n=!1,onMountAutoFocus:o,onUnmountAutoFocus:s,...c}=e,[i,m]=l.useState(null),d=G(o),u=G(s),f=l.useRef(null),h=V(t,p=>m(p)),g=l.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;l.useEffect(()=>{if(n){let p=function(N){if(g.paused||!i)return;const E=N.target;i.contains(E)?f.current=E:ne(f.current,{select:!0})},j=function(N){if(g.paused||!i)return;const E=N.relatedTarget;E!==null&&(i.contains(E)||ne(f.current,{select:!0}))},S=function(N){if(document.activeElement===document.body)for(const x of N)x.removedNodes.length>0&&ne(i)};document.addEventListener("focusin",p),document.addEventListener("focusout",j);const w=new MutationObserver(S);return i&&w.observe(i,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",j),w.disconnect()}}},[n,i,g.paused]),l.useEffect(()=>{if(i){ua.add(g);const p=document.activeElement;if(!i.contains(p)){const S=new CustomEvent(vt,ca);i.addEventListener(vt,d),i.dispatchEvent(S),S.defaultPrevented||(Io(Wo(Za(i)),{select:!0}),document.activeElement===p&&ne(i))}return()=>{i.removeEventListener(vt,d),setTimeout(()=>{const S=new CustomEvent(xt,ca);i.addEventListener(xt,u),i.dispatchEvent(S),S.defaultPrevented||ne(p??document.body,{select:!0}),i.removeEventListener(xt,u),ua.remove(g)},0)}}},[i,d,u,g]);const b=l.useCallback(p=>{if(!a&&!n||g.paused)return;const j=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,S=document.activeElement;if(j&&S){const w=p.currentTarget,[N,E]=Lo(w);N&&E?!p.shiftKey&&S===E?(p.preventDefault(),a&&ne(N,{select:!0})):p.shiftKey&&S===N&&(p.preventDefault(),a&&ne(E,{select:!0})):S===w&&p.preventDefault()}},[a,n,g.paused]);return r.jsx(O.div,{tabIndex:-1,...c,ref:h,onKeyDown:b})});$t.displayName=Oo;function Io(e,{select:t=!1}={}){const a=document.activeElement;for(const n of e)if(ne(n,{select:t}),document.activeElement!==a)return}function Lo(e){const t=Za(e),a=da(t,e),n=da(t.reverse(),e);return[a,n]}function Za(e){const t=[],a=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const o=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||o?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;a.nextNode();)t.push(a.currentNode);return t}function da(e,t){for(const a of e)if(!Fo(a,{upTo:t}))return a}function Fo(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function zo(e){return e instanceof HTMLInputElement&&"select"in e}function ne(e,{select:t=!1}={}){if(e&&e.focus){const a=document.activeElement;e.focus({preventScroll:!0}),e!==a&&zo(e)&&t&&e.select()}}var ua=$o();function $o(){let e=[];return{add(t){const a=e[0];t!==a&&(a==null||a.pause()),e=ma(e,t),e.unshift(t)},remove(t){var a;e=ma(e,t),(a=e[0])==null||a.resume()}}}function ma(e,t){const a=[...e],n=a.indexOf(t);return n!==-1&&a.splice(n,1),a}function Wo(e){return e.filter(t=>t.tagName!=="A")}var Ho=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},ue=new WeakMap,Fe=new WeakMap,ze={},bt=0,er=function(e){return e&&(e.host||er(e.parentNode))},qo=function(e,t){return t.map(function(a){if(e.contains(a))return a;var n=er(a);return n&&e.contains(n)?n:(console.error("aria-hidden",a,"in not contained inside",e,". Doing nothing"),null)}).filter(function(a){return!!a})},Vo=function(e,t,a,n){var o=qo(t,Array.isArray(e)?e:[e]);ze[a]||(ze[a]=new WeakMap);var s=ze[a],c=[],i=new Set,m=new Set(o),d=function(f){!f||i.has(f)||(i.add(f),d(f.parentNode))};o.forEach(d);var u=function(f){!f||m.has(f)||Array.prototype.forEach.call(f.children,function(h){if(i.has(h))u(h);else try{var g=h.getAttribute(n),b=g!==null&&g!=="false",p=(ue.get(h)||0)+1,j=(s.get(h)||0)+1;ue.set(h,p),s.set(h,j),c.push(h),p===1&&b&&Fe.set(h,!0),j===1&&h.setAttribute(a,"true"),b||h.setAttribute(n,"true")}catch(S){console.error("aria-hidden: cannot operate on ",h,S)}})};return u(t),i.clear(),bt++,function(){c.forEach(function(f){var h=ue.get(f)-1,g=s.get(f)-1;ue.set(f,h),s.set(f,g),h||(Fe.has(f)||f.removeAttribute(n),Fe.delete(f)),g||f.removeAttribute(a)}),bt--,bt||(ue=new WeakMap,ue=new WeakMap,Fe=new WeakMap,ze={})}},tr=function(e,t,a){a===void 0&&(a="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),o=Ho(e);return o?(n.push.apply(n,Array.from(o.querySelectorAll("[aria-live]"))),Vo(n,o,a,"aria-hidden")):function(){return null}},J=function(){return J=Object.assign||function(t){for(var a,n=1,o=arguments.length;n<o;n++){a=arguments[n];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(t[s]=a[s])}return t},J.apply(this,arguments)};function ar(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(a[n[o]]=e[n[o]]);return a}function Uo(e,t,a){if(a||arguments.length===2)for(var n=0,o=t.length,s;n<o;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))}var Ve="right-scroll-bar-position",Ue="width-before-scroll-bar",Bo="with-scroll-bars-hidden",Xo="--removed-body-scroll-bar-size";function yt(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function Yo(e,t){var a=l.useState(function(){return{value:e,callback:t,facade:{get current(){return a.value},set current(n){var o=a.value;o!==n&&(a.value=n,a.callback(n,o))}}}})[0];return a.callback=t,a.facade}var Ko=typeof window<"u"?l.useLayoutEffect:l.useEffect,fa=new WeakMap;function Go(e,t){var a=Yo(null,function(n){return e.forEach(function(o){return yt(o,n)})});return Ko(function(){var n=fa.get(a);if(n){var o=new Set(n),s=new Set(e),c=a.current;o.forEach(function(i){s.has(i)||yt(i,null)}),s.forEach(function(i){o.has(i)||yt(i,c)})}fa.set(a,e)},[e]),a}function Jo(e){return e}function Qo(e,t){t===void 0&&(t=Jo);var a=[],n=!1,o={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return a.length?a[a.length-1]:e},useMedium:function(s){var c=t(s,n);return a.push(c),function(){a=a.filter(function(i){return i!==c})}},assignSyncMedium:function(s){for(n=!0;a.length;){var c=a;a=[],c.forEach(s)}a={push:function(i){return s(i)},filter:function(){return a}}},assignMedium:function(s){n=!0;var c=[];if(a.length){var i=a;a=[],i.forEach(s),c=a}var m=function(){var u=c;c=[],u.forEach(s)},d=function(){return Promise.resolve().then(m)};d(),a={push:function(u){c.push(u),d()},filter:function(u){return c=c.filter(u),a}}}};return o}function Zo(e){e===void 0&&(e={});var t=Qo(null);return t.options=J({async:!0,ssr:!1},e),t}var rr=function(e){var t=e.sideCar,a=ar(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return l.createElement(n,J({},a))};rr.isSideCarExport=!0;function es(e,t){return e.useMedium(t),rr}var nr=Zo(),wt=function(){},nt=l.forwardRef(function(e,t){var a=l.useRef(null),n=l.useState({onScrollCapture:wt,onWheelCapture:wt,onTouchMoveCapture:wt}),o=n[0],s=n[1],c=e.forwardProps,i=e.children,m=e.className,d=e.removeScrollBar,u=e.enabled,f=e.shards,h=e.sideCar,g=e.noRelative,b=e.noIsolation,p=e.inert,j=e.allowPinchZoom,S=e.as,w=S===void 0?"div":S,N=e.gapMode,E=ar(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),x=h,k=Go([a,t]),P=J(J({},E),o);return l.createElement(l.Fragment,null,u&&l.createElement(x,{sideCar:nr,removeScrollBar:d,shards:f,noRelative:g,noIsolation:b,inert:p,setCallbacks:s,allowPinchZoom:!!j,lockRef:a,gapMode:N}),c?l.cloneElement(l.Children.only(i),J(J({},P),{ref:k})):l.createElement(w,J({},P,{className:m,ref:k}),i))});nt.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};nt.classNames={fullWidth:Ue,zeroRight:Ve};var ts=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function as(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=ts();return t&&e.setAttribute("nonce",t),e}function rs(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function ns(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var os=function(){var e=0,t=null;return{add:function(a){e==0&&(t=as())&&(rs(t,a),ns(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},ss=function(){var e=os();return function(t,a){l.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&a])}},or=function(){var e=ss(),t=function(a){var n=a.styles,o=a.dynamic;return e(n,o),null};return t},is={left:0,top:0,right:0,gap:0},Nt=function(e){return parseInt(e||"",10)||0},ls=function(e){var t=window.getComputedStyle(document.body),a=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],o=t[e==="padding"?"paddingRight":"marginRight"];return[Nt(a),Nt(n),Nt(o)]},cs=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return is;var t=ls(e),a=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-a+t[2]-t[0])}},ds=or(),ve="data-scroll-locked",us=function(e,t,a,n){var o=e.left,s=e.top,c=e.right,i=e.gap;return a===void 0&&(a="margin"),`
  .`.concat(Bo,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(i,"px ").concat(n,`;
  }
  body[`).concat(ve,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),a==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(c,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(i,"px ").concat(n,`;
    `),a==="padding"&&"padding-right: ".concat(i,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Ve,` {
    right: `).concat(i,"px ").concat(n,`;
  }
  
  .`).concat(Ue,` {
    margin-right: `).concat(i,"px ").concat(n,`;
  }
  
  .`).concat(Ve," .").concat(Ve,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Ue," .").concat(Ue,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(ve,`] {
    `).concat(Xo,": ").concat(i,`px;
  }
`)},ha=function(){var e=parseInt(document.body.getAttribute(ve)||"0",10);return isFinite(e)?e:0},ms=function(){l.useEffect(function(){return document.body.setAttribute(ve,(ha()+1).toString()),function(){var e=ha()-1;e<=0?document.body.removeAttribute(ve):document.body.setAttribute(ve,e.toString())}},[])},fs=function(e){var t=e.noRelative,a=e.noImportant,n=e.gapMode,o=n===void 0?"margin":n;ms();var s=l.useMemo(function(){return cs(o)},[o]);return l.createElement(ds,{styles:us(s,!t,o,a?"":"!important")})},At=!1;if(typeof window<"u")try{var $e=Object.defineProperty({},"passive",{get:function(){return At=!0,!0}});window.addEventListener("test",$e,$e),window.removeEventListener("test",$e,$e)}catch{At=!1}var me=At?{passive:!1}:!1,hs=function(e){return e.tagName==="TEXTAREA"},sr=function(e,t){if(!(e instanceof Element))return!1;var a=window.getComputedStyle(e);return a[t]!=="hidden"&&!(a.overflowY===a.overflowX&&!hs(e)&&a[t]==="visible")},ps=function(e){return sr(e,"overflowY")},gs=function(e){return sr(e,"overflowX")},pa=function(e,t){var a=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var o=ir(e,n);if(o){var s=lr(e,n),c=s[1],i=s[2];if(c>i)return!0}n=n.parentNode}while(n&&n!==a.body);return!1},vs=function(e){var t=e.scrollTop,a=e.scrollHeight,n=e.clientHeight;return[t,a,n]},xs=function(e){var t=e.scrollLeft,a=e.scrollWidth,n=e.clientWidth;return[t,a,n]},ir=function(e,t){return e==="v"?ps(t):gs(t)},lr=function(e,t){return e==="v"?vs(t):xs(t)},bs=function(e,t){return e==="h"&&t==="rtl"?-1:1},ys=function(e,t,a,n,o){var s=bs(e,window.getComputedStyle(t).direction),c=s*n,i=a.target,m=t.contains(i),d=!1,u=c>0,f=0,h=0;do{if(!i)break;var g=lr(e,i),b=g[0],p=g[1],j=g[2],S=p-j-s*b;(b||S)&&ir(e,i)&&(f+=S,h+=b);var w=i.parentNode;i=w&&w.nodeType===Node.DOCUMENT_FRAGMENT_NODE?w.host:w}while(!m&&i!==document.body||m&&(t.contains(i)||t===i));return(u&&(Math.abs(f)<1||!o)||!u&&(Math.abs(h)<1||!o))&&(d=!0),d},We=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},ga=function(e){return[e.deltaX,e.deltaY]},va=function(e){return e&&"current"in e?e.current:e},ws=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Ns=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},js=0,fe=[];function Ss(e){var t=l.useRef([]),a=l.useRef([0,0]),n=l.useRef(),o=l.useState(js++)[0],s=l.useState(or)[0],c=l.useRef(e);l.useEffect(function(){c.current=e},[e]),l.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var p=Uo([e.lockRef.current],(e.shards||[]).map(va),!0).filter(Boolean);return p.forEach(function(j){return j.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),p.forEach(function(j){return j.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var i=l.useCallback(function(p,j){if("touches"in p&&p.touches.length===2||p.type==="wheel"&&p.ctrlKey)return!c.current.allowPinchZoom;var S=We(p),w=a.current,N="deltaX"in p?p.deltaX:w[0]-S[0],E="deltaY"in p?p.deltaY:w[1]-S[1],x,k=p.target,P=Math.abs(N)>Math.abs(E)?"h":"v";if("touches"in p&&P==="h"&&k.type==="range")return!1;var A=pa(P,k);if(!A)return!0;if(A?x=P:(x=P==="v"?"h":"v",A=pa(P,k)),!A)return!1;if(!n.current&&"changedTouches"in p&&(N||E)&&(n.current=x),!x)return!0;var M=n.current||x;return ys(M,j,p,M==="h"?N:E,!0)},[]),m=l.useCallback(function(p){var j=p;if(!(!fe.length||fe[fe.length-1]!==s)){var S="deltaY"in j?ga(j):We(j),w=t.current.filter(function(x){return x.name===j.type&&(x.target===j.target||j.target===x.shadowParent)&&ws(x.delta,S)})[0];if(w&&w.should){j.cancelable&&j.preventDefault();return}if(!w){var N=(c.current.shards||[]).map(va).filter(Boolean).filter(function(x){return x.contains(j.target)}),E=N.length>0?i(j,N[0]):!c.current.noIsolation;E&&j.cancelable&&j.preventDefault()}}},[]),d=l.useCallback(function(p,j,S,w){var N={name:p,delta:j,target:S,should:w,shadowParent:Cs(S)};t.current.push(N),setTimeout(function(){t.current=t.current.filter(function(E){return E!==N})},1)},[]),u=l.useCallback(function(p){a.current=We(p),n.current=void 0},[]),f=l.useCallback(function(p){d(p.type,ga(p),p.target,i(p,e.lockRef.current))},[]),h=l.useCallback(function(p){d(p.type,We(p),p.target,i(p,e.lockRef.current))},[]);l.useEffect(function(){return fe.push(s),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",m,me),document.addEventListener("touchmove",m,me),document.addEventListener("touchstart",u,me),function(){fe=fe.filter(function(p){return p!==s}),document.removeEventListener("wheel",m,me),document.removeEventListener("touchmove",m,me),document.removeEventListener("touchstart",u,me)}},[]);var g=e.removeScrollBar,b=e.inert;return l.createElement(l.Fragment,null,b?l.createElement(s,{styles:Ns(o)}):null,g?l.createElement(fs,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function Cs(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const ks=es(nr,Ss);var Wt=l.forwardRef(function(e,t){return l.createElement(nt,J({},e,{ref:t,sideCar:ks}))});Wt.classNames=nt.classNames;var ot="Popover",[cr,ud]=Re(ot,[Oa]),Ae=Oa(),[Es,se]=cr(ot),dr=e=>{const{__scopePopover:t,children:a,open:n,defaultOpen:o,onOpenChange:s,modal:c=!1}=e,i=Ae(t),m=l.useRef(null),[d,u]=l.useState(!1),[f,h]=Fa({prop:n,defaultProp:o??!1,onChange:s,caller:ot});return r.jsx(uo,{...i,children:r.jsx(Es,{scope:t,contentId:ee(),triggerRef:m,open:f,onOpenChange:h,onOpenToggle:l.useCallback(()=>h(g=>!g),[h]),hasCustomAnchor:d,onCustomAnchorAdd:l.useCallback(()=>u(!0),[]),onCustomAnchorRemove:l.useCallback(()=>u(!1),[]),modal:c,children:a})})};dr.displayName=ot;var ur="PopoverAnchor",Ps=l.forwardRef((e,t)=>{const{__scopePopover:a,...n}=e,o=se(ur,a),s=Ae(a),{onCustomAnchorAdd:c,onCustomAnchorRemove:i}=o;return l.useEffect(()=>(c(),()=>i()),[c,i]),r.jsx(Ia,{...s,...n,ref:t})});Ps.displayName=ur;var mr="PopoverTrigger",fr=l.forwardRef((e,t)=>{const{__scopePopover:a,...n}=e,o=se(mr,a),s=Ae(a),c=V(t,o.triggerRef),i=r.jsx(O.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":xr(o.open),...n,ref:c,onClick:z(e.onClick,o.onOpenToggle)});return o.hasCustomAnchor?i:r.jsx(Ia,{asChild:!0,...s,children:i})});fr.displayName=mr;var Ht="PopoverPortal",[Rs,As]=cr(Ht,{forceMount:void 0}),hr=e=>{const{__scopePopover:t,forceMount:a,children:n,container:o}=e,s=se(Ht,t);return r.jsx(Rs,{scope:t,forceMount:a,children:r.jsx(ae,{present:a||s.open,children:r.jsx(za,{asChild:!0,container:o,children:n})})})};hr.displayName=Ht;var ye="PopoverContent",pr=l.forwardRef((e,t)=>{const a=As(ye,e.__scopePopover),{forceMount:n=a.forceMount,...o}=e,s=se(ye,e.__scopePopover);return r.jsx(ae,{present:n||s.open,children:s.modal?r.jsx(Ds,{...o,ref:t}):r.jsx(Ts,{...o,ref:t})})});pr.displayName=ye;var Ms=$a("PopoverContent.RemoveScroll"),Ds=l.forwardRef((e,t)=>{const a=se(ye,e.__scopePopover),n=l.useRef(null),o=V(t,n),s=l.useRef(!1);return l.useEffect(()=>{const c=n.current;if(c)return tr(c)},[]),r.jsx(Wt,{as:Ms,allowPinchZoom:!0,children:r.jsx(gr,{...e,ref:o,trapFocus:a.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:z(e.onCloseAutoFocus,c=>{var i;c.preventDefault(),s.current||(i=a.triggerRef.current)==null||i.focus()}),onPointerDownOutside:z(e.onPointerDownOutside,c=>{const i=c.detail.originalEvent,m=i.button===0&&i.ctrlKey===!0,d=i.button===2||m;s.current=d},{checkForDefaultPrevented:!1}),onFocusOutside:z(e.onFocusOutside,c=>c.preventDefault(),{checkForDefaultPrevented:!1})})})}),Ts=l.forwardRef((e,t)=>{const a=se(ye,e.__scopePopover),n=l.useRef(!1),o=l.useRef(!1);return r.jsx(gr,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var c,i;(c=e.onCloseAutoFocus)==null||c.call(e,s),s.defaultPrevented||(n.current||(i=a.triggerRef.current)==null||i.focus(),s.preventDefault()),n.current=!1,o.current=!1},onInteractOutside:s=>{var m,d;(m=e.onInteractOutside)==null||m.call(e,s),s.defaultPrevented||(n.current=!0,s.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const c=s.target;((d=a.triggerRef.current)==null?void 0:d.contains(c))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&o.current&&s.preventDefault()}})}),gr=l.forwardRef((e,t)=>{const{__scopePopover:a,trapFocus:n,onOpenAutoFocus:o,onCloseAutoFocus:s,disableOutsidePointerEvents:c,onEscapeKeyDown:i,onPointerDownOutside:m,onFocusOutside:d,onInteractOutside:u,...f}=e,h=se(ye,a),g=Ae(a);return Qa(),r.jsx($t,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:o,onUnmountAutoFocus:s,children:r.jsx(La,{asChild:!0,disableOutsidePointerEvents:c,onInteractOutside:u,onEscapeKeyDown:i,onPointerDownOutside:m,onFocusOutside:d,onDismiss:()=>h.onOpenChange(!1),children:r.jsx(lo,{"data-state":xr(h.open),role:"dialog",id:h.contentId,...g,...f,ref:t,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),vr="PopoverClose",_s=l.forwardRef((e,t)=>{const{__scopePopover:a,...n}=e,o=se(vr,a);return r.jsx(O.button,{type:"button",...n,ref:t,onClick:z(e.onClick,()=>o.onOpenChange(!1))})});_s.displayName=vr;var Os="PopoverArrow",Is=l.forwardRef((e,t)=>{const{__scopePopover:a,...n}=e,o=Ae(a);return r.jsx(co,{...o,...n,ref:t})});Is.displayName=Os;function xr(e){return e?"open":"closed"}var Ls=dr,Fs=fr,zs=hr,br=pr;const st=Ls,it=Fs,Me=l.forwardRef(({className:e,align:t="center",sideOffset:a=4,...n},o)=>r.jsx(zs,{children:r.jsx(br,{ref:o,align:t,sideOffset:a,className:y("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));Me.displayName=br.displayName;function $s({onImport:e,onExport:t,onMigrate:a,onSmartImport:n,onClear:o,importDisabled:s=!1}){const[c,i]=l.useState(!1);return r.jsx(st,{open:c,onOpenChange:i,children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(it,{asChild:!0,children:r.jsx("div",{className:"flex items-center gap-1",children:r.jsx(L,{variant:"ghost",size:"icon",onClick:m=>{m.stopPropagation(),i(d=>!d)},title:"Acciones",children:r.jsx(Rt,{className:"h-4 w-4"})})})}),r.jsx(Me,{className:"w-auto p-2",side:"bottom",align:"end",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs(L,{variant:"ghost",size:"sm",onClick:()=>{e(),i(!1)},disabled:s,className:y("gap-2"),children:[r.jsx(ko,{className:"h-4 w-4"}),r.jsx("span",{children:"Importar JSON"})]}),r.jsxs(L,{variant:"ghost",size:"sm",onClick:()=>{a(),i(!1)},className:"gap-2",children:[r.jsx(To,{className:"h-4 w-4"}),r.jsx("span",{children:"Migrar a DB"})]}),r.jsxs(L,{variant:"ghost",size:"sm",onClick:()=>{t(),i(!1)},className:"gap-2",children:[r.jsx(So,{className:"h-4 w-4"}),r.jsx("span",{children:"Exportar JSON"})]}),r.jsxs(L,{variant:"ghost",size:"sm",onClick:()=>{n(),i(!1)},disabled:s,className:"gap-2",children:[r.jsx(Rt,{className:"h-4 w-4"}),r.jsx("span",{children:"Sincronizar"})]}),r.jsx(L,{variant:"destructive",size:"icon",onClick:()=>{o(),i(!1)},title:"Vaciar datos",children:r.jsx(Ga,{className:"h-4 w-4"})})]})})]})})}const xa="equipment-management-data",Ws={equipos:[],inventarios:[],mantenimientosProgramados:[],mantenimientosRealizados:[],actualizacionesHorasKm:[],empleados:[]};function Hs(){const[e,t]=l.useState(Ws),[a,n]=l.useState(!0);l.useEffect(()=>{try{const m=localStorage.getItem(xa);if(m){const d=JSON.parse(m);t({equipos:d.equipos??[],inventarios:d.inventarios??[],mantenimientosProgramados:d.mantenimientosProgramados??[],mantenimientosRealizados:d.mantenimientosRealizados??[],actualizacionesHorasKm:d.actualizacionesHorasKm??[],empleados:d.empleados??[]})}}catch(m){console.error("Error loading data from localStorage:",m)}finally{n(!1)}},[]);const o=m=>{try{const d={...m,empleados:m.empleados??[]};localStorage.setItem(xa,JSON.stringify(d)),t(d)}catch(d){console.error("Error saving data to localStorage:",d)}};return{data:e,loading:a,saveData:o,exportData:()=>{const m=JSON.stringify(e,null,2),d=new Blob([m],{type:"application/json"}),u=URL.createObjectURL(d),f=document.createElement("a");f.href=u,f.download=`equipos-backup-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(f),f.click(),document.body.removeChild(f),URL.revokeObjectURL(u)},importData:m=>new Promise((d,u)=>{const f=new FileReader;f.onload=h=>{var g;try{const b=JSON.parse((g=h.target)==null?void 0:g.result),p={equipos:b.equipos??[],inventarios:b.inventarios??[],mantenimientosProgramados:b.mantenimientosProgramados??[],mantenimientosRealizados:b.mantenimientosRealizados??[],actualizacionesHorasKm:b.actualizacionesHorasKm??[],empleados:b.empleados??[]};o(p),d(p)}catch{u(new Error("Archivo JSON invÃ¡lido"))}},f.onerror=()=>u(new Error("Error leyendo el archivo")),f.readAsText(m)}),loadSampleData:async()=>{try{const d=await(await fetch("/sample-data.json")).json();o({equipos:d.equipos??[],inventarios:d.inventarios??[],mantenimientosProgramados:d.mantenimientosProgramados??[],mantenimientosRealizados:d.mantenimientosRealizados??[],actualizacionesHorasKm:d.actualizacionesHorasKm??[],empleados:d.empleados??[]})}catch(m){console.error("Error loading sample data:",m)}}}}function ba(){const{theme:e,toggleTheme:t}=ho();return r.jsx(L,{variant:"ghost",size:"sm",onClick:t,className:"w-9 h-9 p-0","aria-label":"Toggle theme",children:e==="light"?r.jsx(po,{className:"h-4 w-4"}):r.jsx(go,{className:"h-4 w-4"})})}function qs(e,[t,a]){return Math.min(a,Math.max(t,e))}function Vs(e,t){return l.useReducer((a,n)=>t[a][n]??a,e)}var qt="ScrollArea",[yr,md]=Re(qt),[Us,Y]=yr(qt),wr=l.forwardRef((e,t)=>{const{__scopeScrollArea:a,type:n="hover",dir:o,scrollHideDelay:s=600,...c}=e,[i,m]=l.useState(null),[d,u]=l.useState(null),[f,h]=l.useState(null),[g,b]=l.useState(null),[p,j]=l.useState(null),[S,w]=l.useState(0),[N,E]=l.useState(0),[x,k]=l.useState(!1),[P,A]=l.useState(!1),M=V(t,F=>m(F)),$=vo(o);return r.jsx(Us,{scope:a,type:n,dir:$,scrollHideDelay:s,scrollArea:i,viewport:d,onViewportChange:u,content:f,onContentChange:h,scrollbarX:g,onScrollbarXChange:b,scrollbarXEnabled:x,onScrollbarXEnabledChange:k,scrollbarY:p,onScrollbarYChange:j,scrollbarYEnabled:P,onScrollbarYEnabledChange:A,onCornerWidthChange:w,onCornerHeightChange:E,children:r.jsx(O.div,{dir:$,...c,ref:M,style:{position:"relative","--radix-scroll-area-corner-width":S+"px","--radix-scroll-area-corner-height":N+"px",...e.style}})})});wr.displayName=qt;var Nr="ScrollAreaViewport",jr=l.forwardRef((e,t)=>{const{__scopeScrollArea:a,children:n,nonce:o,...s}=e,c=Y(Nr,a),i=l.useRef(null),m=V(t,i,c.onViewportChange);return r.jsxs(r.Fragment,{children:[r.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:o}),r.jsx(O.div,{"data-radix-scroll-area-viewport":"",...s,ref:m,style:{overflowX:c.scrollbarXEnabled?"scroll":"hidden",overflowY:c.scrollbarYEnabled?"scroll":"hidden",...e.style},children:r.jsx("div",{ref:c.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});jr.displayName=Nr;var te="ScrollAreaScrollbar",Vt=l.forwardRef((e,t)=>{const{forceMount:a,...n}=e,o=Y(te,e.__scopeScrollArea),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:c}=o,i=e.orientation==="horizontal";return l.useEffect(()=>(i?s(!0):c(!0),()=>{i?s(!1):c(!1)}),[i,s,c]),o.type==="hover"?r.jsx(Bs,{...n,ref:t,forceMount:a}):o.type==="scroll"?r.jsx(Xs,{...n,ref:t,forceMount:a}):o.type==="auto"?r.jsx(Sr,{...n,ref:t,forceMount:a}):o.type==="always"?r.jsx(Ut,{...n,ref:t}):null});Vt.displayName=te;var Bs=l.forwardRef((e,t)=>{const{forceMount:a,...n}=e,o=Y(te,e.__scopeScrollArea),[s,c]=l.useState(!1);return l.useEffect(()=>{const i=o.scrollArea;let m=0;if(i){const d=()=>{window.clearTimeout(m),c(!0)},u=()=>{m=window.setTimeout(()=>c(!1),o.scrollHideDelay)};return i.addEventListener("pointerenter",d),i.addEventListener("pointerleave",u),()=>{window.clearTimeout(m),i.removeEventListener("pointerenter",d),i.removeEventListener("pointerleave",u)}}},[o.scrollArea,o.scrollHideDelay]),r.jsx(ae,{present:a||s,children:r.jsx(Sr,{"data-state":s?"visible":"hidden",...n,ref:t})})}),Xs=l.forwardRef((e,t)=>{const{forceMount:a,...n}=e,o=Y(te,e.__scopeScrollArea),s=e.orientation==="horizontal",c=ct(()=>m("SCROLL_END"),100),[i,m]=Vs("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return l.useEffect(()=>{if(i==="idle"){const d=window.setTimeout(()=>m("HIDE"),o.scrollHideDelay);return()=>window.clearTimeout(d)}},[i,o.scrollHideDelay,m]),l.useEffect(()=>{const d=o.viewport,u=s?"scrollLeft":"scrollTop";if(d){let f=d[u];const h=()=>{const g=d[u];f!==g&&(m("SCROLL"),c()),f=g};return d.addEventListener("scroll",h),()=>d.removeEventListener("scroll",h)}},[o.viewport,s,m,c]),r.jsx(ae,{present:a||i!=="hidden",children:r.jsx(Ut,{"data-state":i==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:z(e.onPointerEnter,()=>m("POINTER_ENTER")),onPointerLeave:z(e.onPointerLeave,()=>m("POINTER_LEAVE"))})})}),Sr=l.forwardRef((e,t)=>{const a=Y(te,e.__scopeScrollArea),{forceMount:n,...o}=e,[s,c]=l.useState(!1),i=e.orientation==="horizontal",m=ct(()=>{if(a.viewport){const d=a.viewport.offsetWidth<a.viewport.scrollWidth,u=a.viewport.offsetHeight<a.viewport.scrollHeight;c(i?d:u)}},10);return we(a.viewport,m),we(a.content,m),r.jsx(ae,{present:n||s,children:r.jsx(Ut,{"data-state":s?"visible":"hidden",...o,ref:t})})}),Ut=l.forwardRef((e,t)=>{const{orientation:a="vertical",...n}=e,o=Y(te,e.__scopeScrollArea),s=l.useRef(null),c=l.useRef(0),[i,m]=l.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),d=Rr(i.viewport,i.content),u={...n,sizes:i,onSizesChange:m,hasThumb:d>0&&d<1,onThumbChange:h=>s.current=h,onThumbPointerUp:()=>c.current=0,onThumbPointerDown:h=>c.current=h};function f(h,g){return Zs(h,c.current,i,g)}return a==="horizontal"?r.jsx(Ys,{...u,ref:t,onThumbPositionChange:()=>{if(o.viewport&&s.current){const h=o.viewport.scrollLeft,g=ya(h,i,o.dir);s.current.style.transform=`translate3d(${g}px, 0, 0)`}},onWheelScroll:h=>{o.viewport&&(o.viewport.scrollLeft=h)},onDragScroll:h=>{o.viewport&&(o.viewport.scrollLeft=f(h,o.dir))}}):a==="vertical"?r.jsx(Ks,{...u,ref:t,onThumbPositionChange:()=>{if(o.viewport&&s.current){const h=o.viewport.scrollTop,g=ya(h,i);s.current.style.transform=`translate3d(0, ${g}px, 0)`}},onWheelScroll:h=>{o.viewport&&(o.viewport.scrollTop=h)},onDragScroll:h=>{o.viewport&&(o.viewport.scrollTop=f(h))}}):null}),Ys=l.forwardRef((e,t)=>{const{sizes:a,onSizesChange:n,...o}=e,s=Y(te,e.__scopeScrollArea),[c,i]=l.useState(),m=l.useRef(null),d=V(t,m,s.onScrollbarXChange);return l.useEffect(()=>{m.current&&i(getComputedStyle(m.current))},[m]),r.jsx(kr,{"data-orientation":"horizontal",...o,ref:d,sizes:a,style:{bottom:0,left:s.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:s.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":lt(a)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.x),onDragScroll:u=>e.onDragScroll(u.x),onWheelScroll:(u,f)=>{if(s.viewport){const h=s.viewport.scrollLeft+u.deltaX;e.onWheelScroll(h),Mr(h,f)&&u.preventDefault()}},onResize:()=>{m.current&&s.viewport&&c&&n({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:m.current.clientWidth,paddingStart:et(c.paddingLeft),paddingEnd:et(c.paddingRight)}})}})}),Ks=l.forwardRef((e,t)=>{const{sizes:a,onSizesChange:n,...o}=e,s=Y(te,e.__scopeScrollArea),[c,i]=l.useState(),m=l.useRef(null),d=V(t,m,s.onScrollbarYChange);return l.useEffect(()=>{m.current&&i(getComputedStyle(m.current))},[m]),r.jsx(kr,{"data-orientation":"vertical",...o,ref:d,sizes:a,style:{top:0,right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":lt(a)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.y),onDragScroll:u=>e.onDragScroll(u.y),onWheelScroll:(u,f)=>{if(s.viewport){const h=s.viewport.scrollTop+u.deltaY;e.onWheelScroll(h),Mr(h,f)&&u.preventDefault()}},onResize:()=>{m.current&&s.viewport&&c&&n({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:m.current.clientHeight,paddingStart:et(c.paddingTop),paddingEnd:et(c.paddingBottom)}})}})}),[Gs,Cr]=yr(te),kr=l.forwardRef((e,t)=>{const{__scopeScrollArea:a,sizes:n,hasThumb:o,onThumbChange:s,onThumbPointerUp:c,onThumbPointerDown:i,onThumbPositionChange:m,onDragScroll:d,onWheelScroll:u,onResize:f,...h}=e,g=Y(te,a),[b,p]=l.useState(null),j=V(t,M=>p(M)),S=l.useRef(null),w=l.useRef(""),N=g.viewport,E=n.content-n.viewport,x=G(u),k=G(m),P=ct(f,10);function A(M){if(S.current){const $=M.clientX-S.current.left,F=M.clientY-S.current.top;d({x:$,y:F})}}return l.useEffect(()=>{const M=$=>{const F=$.target;(b==null?void 0:b.contains(F))&&x($,E)};return document.addEventListener("wheel",M,{passive:!1}),()=>document.removeEventListener("wheel",M,{passive:!1})},[N,b,E,x]),l.useEffect(k,[n,k]),we(b,P),we(g.content,P),r.jsx(Gs,{scope:a,scrollbar:b,hasThumb:o,onThumbChange:G(s),onThumbPointerUp:G(c),onThumbPositionChange:k,onThumbPointerDown:G(i),children:r.jsx(O.div,{...h,ref:j,style:{position:"absolute",...h.style},onPointerDown:z(e.onPointerDown,M=>{M.button===0&&(M.target.setPointerCapture(M.pointerId),S.current=b.getBoundingClientRect(),w.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",g.viewport&&(g.viewport.style.scrollBehavior="auto"),A(M))}),onPointerMove:z(e.onPointerMove,A),onPointerUp:z(e.onPointerUp,M=>{const $=M.target;$.hasPointerCapture(M.pointerId)&&$.releasePointerCapture(M.pointerId),document.body.style.webkitUserSelect=w.current,g.viewport&&(g.viewport.style.scrollBehavior=""),S.current=null})})})}),Ze="ScrollAreaThumb",Er=l.forwardRef((e,t)=>{const{forceMount:a,...n}=e,o=Cr(Ze,e.__scopeScrollArea);return r.jsx(ae,{present:a||o.hasThumb,children:r.jsx(Js,{ref:t,...n})})}),Js=l.forwardRef((e,t)=>{const{__scopeScrollArea:a,style:n,...o}=e,s=Y(Ze,a),c=Cr(Ze,a),{onThumbPositionChange:i}=c,m=V(t,f=>c.onThumbChange(f)),d=l.useRef(void 0),u=ct(()=>{d.current&&(d.current(),d.current=void 0)},100);return l.useEffect(()=>{const f=s.viewport;if(f){const h=()=>{if(u(),!d.current){const g=ei(f,i);d.current=g,i()}};return i(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[s.viewport,u,i]),r.jsx(O.div,{"data-state":c.hasThumb?"visible":"hidden",...o,ref:m,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:z(e.onPointerDownCapture,f=>{const g=f.target.getBoundingClientRect(),b=f.clientX-g.left,p=f.clientY-g.top;c.onThumbPointerDown({x:b,y:p})}),onPointerUp:z(e.onPointerUp,c.onThumbPointerUp)})});Er.displayName=Ze;var Bt="ScrollAreaCorner",Pr=l.forwardRef((e,t)=>{const a=Y(Bt,e.__scopeScrollArea),n=!!(a.scrollbarX&&a.scrollbarY);return a.type!=="scroll"&&n?r.jsx(Qs,{...e,ref:t}):null});Pr.displayName=Bt;var Qs=l.forwardRef((e,t)=>{const{__scopeScrollArea:a,...n}=e,o=Y(Bt,a),[s,c]=l.useState(0),[i,m]=l.useState(0),d=!!(s&&i);return we(o.scrollbarX,()=>{var f;const u=((f=o.scrollbarX)==null?void 0:f.offsetHeight)||0;o.onCornerHeightChange(u),m(u)}),we(o.scrollbarY,()=>{var f;const u=((f=o.scrollbarY)==null?void 0:f.offsetWidth)||0;o.onCornerWidthChange(u),c(u)}),d?r.jsx(O.div,{...n,ref:t,style:{width:s,height:i,position:"absolute",right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function et(e){return e?parseInt(e,10):0}function Rr(e,t){const a=e/t;return isNaN(a)?0:a}function lt(e){const t=Rr(e.viewport,e.content),a=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-a)*t;return Math.max(n,18)}function Zs(e,t,a,n="ltr"){const o=lt(a),s=o/2,c=t||s,i=o-c,m=a.scrollbar.paddingStart+c,d=a.scrollbar.size-a.scrollbar.paddingEnd-i,u=a.content-a.viewport,f=n==="ltr"?[0,u]:[u*-1,0];return Ar([m,d],f)(e)}function ya(e,t,a="ltr"){const n=lt(t),o=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,s=t.scrollbar.size-o,c=t.content-t.viewport,i=s-n,m=a==="ltr"?[0,c]:[c*-1,0],d=qs(e,m);return Ar([0,c],[0,i])(d)}function Ar(e,t){return a=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(a-e[0])}}function Mr(e,t){return e>0&&e<t}var ei=(e,t=()=>{})=>{let a={left:e.scrollLeft,top:e.scrollTop},n=0;return function o(){const s={left:e.scrollLeft,top:e.scrollTop},c=a.left!==s.left,i=a.top!==s.top;(c||i)&&t(),a=s,n=window.requestAnimationFrame(o)}(),()=>window.cancelAnimationFrame(n)};function ct(e,t){const a=G(e),n=l.useRef(0);return l.useEffect(()=>()=>window.clearTimeout(n.current),[]),l.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(a,t)},[a,t])}function we(e,t){const a=G(t);Ke(()=>{let n=0;if(e){const o=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(a)});return o.observe(e),()=>{window.cancelAnimationFrame(n),o.unobserve(e)}}},[e,a])}var Dr=wr,ti=jr,ai=Pr;const Xt=l.forwardRef(({className:e,children:t,...a},n)=>r.jsxs(Dr,{ref:n,className:y("relative overflow-hidden",e),...a,children:[r.jsx(ti,{className:"h-full w-full rounded-[inherit]",children:t}),r.jsx(Tr,{}),r.jsx(ai,{})]}));Xt.displayName=Dr.displayName;const Tr=l.forwardRef(({className:e,orientation:t="vertical",...a},n)=>r.jsx(Vt,{ref:n,orientation:t,className:y("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...a,children:r.jsx(Er,{className:"relative flex-1 rounded-full bg-border"})}));Tr.displayName=Vt.displayName;const wa="app-notifications-history",Na="notifications-test-sent";function _r(){const[e,t]=l.useState("default"),[a,n]=l.useState(!1),[o,s]=l.useState([]),{toast:c}=Ot();l.useEffect(()=>{const g=localStorage.getItem(wa);if(g)try{s(JSON.parse(g))}catch(b){console.error("Error parsing notifications",b)}},[]),l.useEffect(()=>{localStorage.setItem(wa,JSON.stringify(o))},[o]),l.useEffect(()=>{"Notification"in window&&(n(!0),t(Notification.permission))},[]);const i=l.useCallback(g=>{const b={...g,id:crypto.randomUUID(),timestamp:Date.now(),read:!1};if(s(p=>[b,...p]),Notification.permission==="granted")try{new Notification(g.title,{body:g.body,icon:"/favicon.ico"})}catch(p){console.error("Error sending native notification",p)}},[]),m=l.useCallback(g=>{s(b=>b.map(p=>p.id===g?{...p,read:!0}:p))},[]),d=l.useCallback(()=>{s(g=>g.map(b=>({...b,read:!0})))},[]),u=l.useCallback(()=>{s([])},[]),f=async()=>{if(!a)return c({title:"No soportado",description:"Tu navegador no soporta notificaciones push",variant:"destructive"}),!1;try{const g=await Notification.requestPermission();return t(g),g==="granted"?(c({title:"â Notificaciones activadas",description:"RecibirÃ¡s alertas sobre mantenimientos"}),localStorage.getItem(Na)||(i({title:"Notificaciones activadas",body:"Ahora recibirÃ¡s alertas importantes en este dispositivo.",type:"success"}),localStorage.setItem(Na,"true")),!0):(c({title:"â Notificaciones denegadas",description:"No recibirÃ¡s alertas del sistema",variant:"destructive"}),!1)}catch(g){return console.error("Error requesting notification permission:",g),!1}},h=o.filter(g=>!g.read).length;return{permission:e,supported:a,notifications:o,unreadCount:h,requestPermission:f,addNotification:i,markAsRead:m,markAllAsRead:d,clearAll:u}}const ri=Wa("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 shadow-sm hover:shadow",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/90 hover:scale-105",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/90 hover:scale-105",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/90 hover:scale-105",outline:"text-foreground border-2 hover:bg-accent hover:scale-105",success:"border-transparent bg-emerald-500 text-white hover:bg-emerald-600 hover:scale-105",warning:"border-transparent bg-amber-500 text-white hover:bg-amber-600 hover:scale-105",info:"border-transparent bg-blue-500 text-white hover:bg-blue-600 hover:scale-105"}},defaultVariants:{variant:"default"}});function tt({className:e,variant:t,...a}){return r.jsx("div",{className:y(ri({variant:t}),e),...a})}function W(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function ni(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}const fd=6048e5,hd=864e5,He=43200,ja=1440;let oi={};function si(){return oi}function Sa(e){const t=W(e),a=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return a.setUTCFullYear(t.getFullYear()),+e-+a}function Be(e,t){const a=W(e),n=W(t),o=a.getTime()-n.getTime();return o<0?-1:o>0?1:o}function ii(e){return ni(e,Date.now())}function li(e,t){const a=W(e),n=W(t),o=a.getFullYear()-n.getFullYear(),s=a.getMonth()-n.getMonth();return o*12+s}function ci(e){return t=>{const n=(e?Math[e]:Math.trunc)(t);return n===0?0:n}}function di(e,t){return+W(e)-+W(t)}function ui(e){const t=W(e);return t.setHours(23,59,59,999),t}function mi(e){const t=W(e),a=t.getMonth();return t.setFullYear(t.getFullYear(),a+1,0),t.setHours(23,59,59,999),t}function fi(e){const t=W(e);return+ui(t)==+mi(t)}function hi(e,t){const a=W(e),n=W(t),o=Be(a,n),s=Math.abs(li(a,n));let c;if(s<1)c=0;else{a.getMonth()===1&&a.getDate()>27&&a.setDate(30),a.setMonth(a.getMonth()-o*s);let i=Be(a,n)===-o;fi(W(e))&&s===1&&Be(e,n)===1&&(i=!1),c=o*(s-Number(i))}return c===0?0:c}function pi(e,t,a){const n=di(e,t)/1e3;return ci(a==null?void 0:a.roundingMethod)(n)}const gi={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},vi=(e,t,a)=>{let n;const o=gi[e];return typeof o=="string"?n=o:t===1?n=o.one:n=o.other.replace("{{count}}",t.toString()),a!=null&&a.addSuffix?a.comparison&&a.comparison>0?"in "+n:n+" ago":n};function xe(e){return(t={})=>{const a=t.width?String(t.width):e.defaultWidth;return e.formats[a]||e.formats[e.defaultWidth]}}const xi={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},bi={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},yi={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},wi={date:xe({formats:xi,defaultWidth:"full"}),time:xe({formats:bi,defaultWidth:"full"}),dateTime:xe({formats:yi,defaultWidth:"full"})},Ni={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},ji=(e,t,a,n)=>Ni[e];function Q(e){return(t,a)=>{const n=a!=null&&a.context?String(a.context):"standalone";let o;if(n==="formatting"&&e.formattingValues){const c=e.defaultFormattingWidth||e.defaultWidth,i=a!=null&&a.width?String(a.width):c;o=e.formattingValues[i]||e.formattingValues[c]}else{const c=e.defaultWidth,i=a!=null&&a.width?String(a.width):e.defaultWidth;o=e.values[i]||e.values[c]}const s=e.argumentCallback?e.argumentCallback(t):t;return o[s]}}const Si={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Ci={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},ki={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Ei={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Pi={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Ri={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Ai=(e,t)=>{const a=Number(e),n=a%100;if(n>20||n<10)switch(n%10){case 1:return a+"st";case 2:return a+"nd";case 3:return a+"rd"}return a+"th"},Mi={ordinalNumber:Ai,era:Q({values:Si,defaultWidth:"wide"}),quarter:Q({values:Ci,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Q({values:ki,defaultWidth:"wide"}),day:Q({values:Ei,defaultWidth:"wide"}),dayPeriod:Q({values:Pi,defaultWidth:"wide",formattingValues:Ri,defaultFormattingWidth:"wide"})};function Z(e){return(t,a={})=>{const n=a.width,o=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],s=t.match(o);if(!s)return null;const c=s[0],i=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],m=Array.isArray(i)?Ti(i,f=>f.test(c)):Di(i,f=>f.test(c));let d;d=e.valueCallback?e.valueCallback(m):m,d=a.valueCallback?a.valueCallback(d):d;const u=t.slice(c.length);return{value:d,rest:u}}}function Di(e,t){for(const a in e)if(Object.prototype.hasOwnProperty.call(e,a)&&t(e[a]))return a}function Ti(e,t){for(let a=0;a<e.length;a++)if(t(e[a]))return a}function Or(e){return(t,a={})=>{const n=t.match(e.matchPattern);if(!n)return null;const o=n[0],s=t.match(e.parsePattern);if(!s)return null;let c=e.valueCallback?e.valueCallback(s[0]):s[0];c=a.valueCallback?a.valueCallback(c):c;const i=t.slice(o.length);return{value:c,rest:i}}}const _i=/^(\d+)(th|st|nd|rd)?/i,Oi=/\d+/i,Ii={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Li={any:[/^b/i,/^(a|c)/i]},Fi={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},zi={any:[/1/i,/2/i,/3/i,/4/i]},$i={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Wi={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Hi={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},qi={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Vi={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Ui={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Bi={ordinalNumber:Or({matchPattern:_i,parsePattern:Oi,valueCallback:e=>parseInt(e,10)}),era:Z({matchPatterns:Ii,defaultMatchWidth:"wide",parsePatterns:Li,defaultParseWidth:"any"}),quarter:Z({matchPatterns:Fi,defaultMatchWidth:"wide",parsePatterns:zi,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Z({matchPatterns:$i,defaultMatchWidth:"wide",parsePatterns:Wi,defaultParseWidth:"any"}),day:Z({matchPatterns:Hi,defaultMatchWidth:"wide",parsePatterns:qi,defaultParseWidth:"any"}),dayPeriod:Z({matchPatterns:Vi,defaultMatchWidth:"any",parsePatterns:Ui,defaultParseWidth:"any"})},Xi={code:"en-US",formatDistance:vi,formatLong:wi,formatRelative:ji,localize:Mi,match:Bi,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Yi(e,t,a){const n=si(),o=(a==null?void 0:a.locale)??n.locale??Xi,s=2520,c=Be(e,t);if(isNaN(c))throw new RangeError("Invalid time value");const i=Object.assign({},a,{addSuffix:a==null?void 0:a.addSuffix,comparison:c});let m,d;c>0?(m=W(t),d=W(e)):(m=W(e),d=W(t));const u=pi(d,m),f=(Sa(d)-Sa(m))/1e3,h=Math.round((u-f)/60);let g;if(h<2)return a!=null&&a.includeSeconds?u<5?o.formatDistance("lessThanXSeconds",5,i):u<10?o.formatDistance("lessThanXSeconds",10,i):u<20?o.formatDistance("lessThanXSeconds",20,i):u<40?o.formatDistance("halfAMinute",0,i):u<60?o.formatDistance("lessThanXMinutes",1,i):o.formatDistance("xMinutes",1,i):h===0?o.formatDistance("lessThanXMinutes",1,i):o.formatDistance("xMinutes",h,i);if(h<45)return o.formatDistance("xMinutes",h,i);if(h<90)return o.formatDistance("aboutXHours",1,i);if(h<ja){const b=Math.round(h/60);return o.formatDistance("aboutXHours",b,i)}else{if(h<s)return o.formatDistance("xDays",1,i);if(h<He){const b=Math.round(h/ja);return o.formatDistance("xDays",b,i)}else if(h<He*2)return g=Math.round(h/He),o.formatDistance("aboutXMonths",g,i)}if(g=hi(d,m),g<12){const b=Math.round(h/He);return o.formatDistance("xMonths",b,i)}else{const b=g%12,p=Math.trunc(g/12);return b<3?o.formatDistance("aboutXYears",p,i):b<9?o.formatDistance("overXYears",p,i):o.formatDistance("almostXYears",p+1,i)}}function Ir(e,t){return Yi(e,ii(e),t)}const Ki={lessThanXSeconds:{one:"menos de un segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"medio minuto",lessThanXMinutes:{one:"menos de un minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"alrededor de 1 hora",other:"alrededor de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 dÃ­a",other:"{{count}} dÃ­as"},aboutXWeeks:{one:"alrededor de 1 semana",other:"alrededor de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"alrededor de 1 mes",other:"alrededor de {{count}} meses"},xMonths:{one:"1 mes",other:"{{count}} meses"},aboutXYears:{one:"alrededor de 1 aÃ±o",other:"alrededor de {{count}} aÃ±os"},xYears:{one:"1 aÃ±o",other:"{{count}} aÃ±os"},overXYears:{one:"mÃ¡s de 1 aÃ±o",other:"mÃ¡s de {{count}} aÃ±os"},almostXYears:{one:"casi 1 aÃ±o",other:"casi {{count}} aÃ±os"}},Gi=(e,t,a)=>{let n;const o=Ki[e];return typeof o=="string"?n=o:t===1?n=o.one:n=o.other.replace("{{count}}",t.toString()),a!=null&&a.addSuffix?a.comparison&&a.comparison>0?"en "+n:"hace "+n:n},Ji={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/y"},Qi={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},Zi={full:"{{date}} 'a las' {{time}}",long:"{{date}} 'a las' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},el={date:xe({formats:Ji,defaultWidth:"full"}),time:xe({formats:Qi,defaultWidth:"full"}),dateTime:xe({formats:Zi,defaultWidth:"full"})},tl={lastWeek:"'el' eeee 'pasado a la' p",yesterday:"'ayer a la' p",today:"'hoy a la' p",tomorrow:"'maÃ±ana a la' p",nextWeek:"eeee 'a la' p",other:"P"},al={lastWeek:"'el' eeee 'pasado a las' p",yesterday:"'ayer a las' p",today:"'hoy a las' p",tomorrow:"'maÃ±ana a las' p",nextWeek:"eeee 'a las' p",other:"P"},rl=(e,t,a,n)=>t.getHours()!==1?al[e]:tl[e],nl={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","despuÃ©s de cristo"]},ol={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1Âº trimestre","2Âº trimestre","3Âº trimestre","4Âº trimestre"]},sl={narrow:["e","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],wide:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]},il={narrow:["d","l","m","m","j","v","s"],short:["do","lu","ma","mi","ju","vi","sÃ¡"],abbreviated:["dom","lun","mar","miÃ©","jue","vie","sÃ¡b"],wide:["domingo","lunes","martes","miÃ©rcoles","jueves","viernes","sÃ¡bado"]},ll={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"maÃ±ana",afternoon:"tarde",evening:"tarde",night:"noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"maÃ±ana",afternoon:"tarde",evening:"tarde",night:"noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"maÃ±ana",afternoon:"tarde",evening:"tarde",night:"noche"}},cl={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"de la maÃ±ana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"de la maÃ±ana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"de la maÃ±ana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"}},dl=(e,t)=>Number(e)+"Âº",ul={ordinalNumber:dl,era:Q({values:nl,defaultWidth:"wide"}),quarter:Q({values:ol,defaultWidth:"wide",argumentCallback:e=>Number(e)-1}),month:Q({values:sl,defaultWidth:"wide"}),day:Q({values:il,defaultWidth:"wide"}),dayPeriod:Q({values:ll,defaultWidth:"wide",formattingValues:cl,defaultFormattingWidth:"wide"})},ml=/^(\d+)(Âº)?/i,fl=/\d+/i,hl={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|a\.?\s?e\.?\s?c\.?|d\.?\s?c\.?|e\.?\s?c\.?)/i,wide:/^(antes de cristo|antes de la era com[uÃº]n|despu[eÃ©]s de cristo|era com[uÃº]n)/i},pl={any:[/^ac/i,/^dc/i],wide:[/^(antes de cristo|antes de la era com[uÃº]n)/i,/^(despu[eÃ©]s de cristo|era com[uÃº]n)/i]},gl={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234](Âº)? trimestre/i},vl={any:[/1/i,/2/i,/3/i,/4/i]},xl={narrow:/^[efmajsond]/i,abbreviated:/^(ene|feb|mar|abr|may|jun|jul|ago|sep|oct|nov|dic)/i,wide:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i},bl={narrow:[/^e/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^en/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i]},yl={narrow:/^[dlmjvs]/i,short:/^(do|lu|ma|mi|ju|vi|s[Ã¡a])/i,abbreviated:/^(dom|lun|mar|mi[Ã©e]|jue|vie|s[Ã¡a]b)/i,wide:/^(domingo|lunes|martes|mi[Ã©e]rcoles|jueves|viernes|s[Ã¡a]bado)/i},wl={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^do/i,/^lu/i,/^ma/i,/^mi/i,/^ju/i,/^vi/i,/^sa/i]},Nl={narrow:/^(a|p|mn|md|(de la|a las) (maÃ±ana|tarde|noche))/i,any:/^([ap]\.?\s?m\.?|medianoche|mediodia|(de la|a las) (maÃ±ana|tarde|noche))/i},jl={any:{am:/^a/i,pm:/^p/i,midnight:/^mn/i,noon:/^md/i,morning:/maÃ±ana/i,afternoon:/tarde/i,evening:/tarde/i,night:/noche/i}},Sl={ordinalNumber:Or({matchPattern:ml,parsePattern:fl,valueCallback:function(e){return parseInt(e,10)}}),era:Z({matchPatterns:hl,defaultMatchWidth:"wide",parsePatterns:pl,defaultParseWidth:"any"}),quarter:Z({matchPatterns:gl,defaultMatchWidth:"wide",parsePatterns:vl,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Z({matchPatterns:xl,defaultMatchWidth:"wide",parsePatterns:bl,defaultParseWidth:"any"}),day:Z({matchPatterns:yl,defaultMatchWidth:"wide",parsePatterns:wl,defaultParseWidth:"any"}),dayPeriod:Z({matchPatterns:Nl,defaultMatchWidth:"any",parsePatterns:jl,defaultParseWidth:"any"})},Lr={code:"es",formatDistance:Gi,formatLong:el,formatRelative:rl,localize:ul,match:Sl,options:{weekStartsOn:1,firstWeekContainsDate:1}};function Cl(){const{notifications:e,unreadCount:t,markAsRead:a,markAllAsRead:n,clearAll:o,permission:s,requestPermission:c}=_r(),i=m=>{switch(m){case"warning":return"â ï¸";case"error":return"ð¨";case"success":return"â";default:return"â¹ï¸"}};return r.jsxs(st,{children:[r.jsx(it,{asChild:!0,children:r.jsxs(L,{variant:"ghost",size:"icon",className:"relative",children:[r.jsx(Ge,{className:"h-5 w-5"}),t>0&&r.jsx(tt,{variant:"destructive",className:"absolute -top-1 -right-1 h-5 w-5 flex items-center justify-center rounded-full p-0 text-[10px]",children:t})]})}),r.jsxs(Me,{className:"w-80 p-0",align:"end",children:[r.jsxs("div",{className:"flex items-center justify-between border-b p-4",children:[r.jsx("h4",{className:"font-semibold",children:"Notificaciones"}),t>0&&r.jsx(L,{variant:"ghost",size:"sm",className:"text-xs h-auto py-1",onClick:n,children:"Marcar leÃ­das"})]}),s!=="granted"&&r.jsxs("div",{className:"bg-accent/50 p-3 text-xs flex items-center justify-between gap-2",children:[r.jsx("span",{children:"Activa alertas de escritorio"}),r.jsx(L,{size:"sm",variant:"outline",onClick:c,children:"Activar"})]}),r.jsx(Xt,{className:"h-[300px]",children:e.length===0?r.jsxs("div",{className:"flex flex-col items-center justify-center h-full py-8 text-muted-foreground",children:[r.jsx(Ge,{className:"h-8 w-8 mb-2 opacity-20"}),r.jsx("p",{className:"text-sm",children:"No tienes notificaciones"})]}):r.jsx("div",{className:"divide-y",children:e.map(m=>r.jsxs("div",{className:y("p-4 hover:bg-accent/50 transition-colors cursor-pointer relative group",!m.read&&"bg-accent/10"),onClick:()=>a(m.id),children:[r.jsxs("div",{className:"flex gap-3",children:[r.jsx("div",{className:"text-xl select-none",children:i(m.type)}),r.jsxs("div",{className:"flex-1 space-y-1",children:[r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsx("p",{className:y("text-sm font-medium leading-none",!m.read&&"text-primary"),children:m.title}),r.jsx("span",{className:"text-[10px] text-muted-foreground whitespace-nowrap ml-2",children:Ir(m.timestamp,{addSuffix:!0,locale:Lr})})]}),r.jsx("p",{className:"text-xs text-muted-foreground line-clamp-2",children:m.body})]})]}),!m.read&&r.jsx("div",{className:"absolute right-2 top-1/2 -translate-y-1/2 opacity-0 group-hover:opacity-100 transition-opacity",children:r.jsx(L,{size:"icon",variant:"ghost",className:"h-6 w-6",onClick:d=>{d.stopPropagation(),a(m.id)},children:r.jsx(wo,{className:"h-3 w-3"})})})]},m.id))})}),e.length>0&&r.jsx("div",{className:"border-t p-2",children:r.jsxs(L,{variant:"ghost",className:"w-full text-xs text-muted-foreground hover:text-destructive",onClick:o,children:[r.jsx(Ga,{className:"h-3 w-3 mr-2"}),"Limpiar historial"]})})]})]})}function Ca(){return r.jsx(Cl,{})}function Xe({showTagline:e=!0,compact:t=!1,className:a}){const n=t?"h-11 w-11":"h-14 w-14",o=t?"gap-2.5":"gap-4";return r.jsxs("div",{className:y("group flex items-center",o,a),children:[r.jsxs("div",{className:y("relative transition-transform duration-300 group-hover:scale-105",n),children:[r.jsx("div",{className:"pointer-events-none absolute inset-0 rounded-3xl bg-gradient-to-br from-primary/35 via-emerald-400/30 to-transparent opacity-0 blur-xl transition-opacity duration-500 group-hover:opacity-100"}),r.jsx("img",{src:"/favicon.ico",alt:"Logo de ALITO Group",loading:"eager",className:"relative h-full w-full object-contain drop-shadow-[0_12px_25px_rgba(16,185,129,0.55)] transition-transform duration-500 group-hover:-translate-y-0.5"})]}),r.jsxs("div",{className:"leading-tight",children:[r.jsx("p",{className:y("font-semibold uppercase tracking-[0.2em] text-foreground transition-colors group-hover:text-primary",t?"text-xs":"text-sm"),children:"ALITO GROUP"}),r.jsx("p",{className:y("font-semibold text-foreground",t?"text-base":"text-2xl"),children:"SRL"}),e&&r.jsx("p",{className:y("text-muted-foreground",t?"text-[0.7rem]":"text-sm"),children:"Mantenimiento inteligente"})]})]})}function kl(){const[e,t]=l.useState([]),[a,n]=l.useState(!0),[o,s]=l.useState(0),{config:c}=Ha(),i=l.useRef(c),{addNotification:m,permission:d}=_r(),u=l.useCallback((w,N)=>N?`Ficha ${N}: ${w}`:w,[]);l.useEffect(()=>{i.current=c},[c]);const f=l.useCallback(async(w,N,E)=>{if(N)try{const{error:x}=await H.from("notificaciones_salientes").insert({notificacion_id:E.id,canal:w,destinatario:N,contenido:E.mensaje});if(x&&x.code!=="23505")throw x}catch(x){console.error("Error registrando envÃ­o externo de notificaciÃ³n:",x)}},[]),h=l.useCallback(async()=>{try{const{data:w,error:N}=await H.from("notificaciones").select("*").order("created_at",{ascending:!1}).limit(50);if(N)throw N;const E=(w||[]).map(x=>({id:Number(x.id),tipo:x.tipo,titulo:x.titulo,mensaje:u(x.mensaje,x.ficha_equipo),fichaEquipo:x.ficha_equipo,nombreEquipo:x.nombre_equipo,nivel:x.nivel,leida:x.leida,accionUrl:x.accion_url,metadata:x.metadata,createdAt:x.created_at}));t(E),s(E.filter(x=>!x.leida).length)}catch(w){console.error("Error loading notificaciones:",w)}finally{n(!1)}},[u]);return l.useEffect(()=>{(async()=>{try{await H.rpc("generar_notificaciones_mantenimientos")}catch(E){console.error("Error generating automatic maintenance notifications:",E)}await h()})();const N=H.channel("notificaciones-changes").on("postgres_changes",{event:"*",schema:"public",table:"notificaciones"},E=>{if(console.log("NotificaciÃ³n actualizada:",E),h(),E.eventType==="INSERT"){const x=E.new,k=u(x.mensaje,x.ficha_equipo);de({title:x.titulo,description:k,variant:x.nivel==="critical"?"destructive":"default"});const P={id:Number(x.id),tipo:x.tipo,titulo:x.titulo,mensaje:k,fichaEquipo:x.ficha_equipo,nombreEquipo:x.nombre_equipo,nivel:x.nivel,leida:x.leida,accionUrl:x.accion_url,metadata:x.metadata,createdAt:x.created_at},A=i.current;A.notificarDispositivo&&d==="granted"&&m({title:x.titulo,body:k,type:x.nivel==="critical"?"error":"info"}),A.notificarEmail&&f("email",A.correoNotificaciones,P),A.notificarWhatsapp&&f("whatsapp",A.telefonoWhatsapp,P)}}).subscribe();return()=>{H.removeChannel(N)}},[f,d,m,u,h]),{notificaciones:e,loading:a,noLeidas:o,loadNotificaciones:h,marcarComoLeida:async w=>{try{const{error:N}=await H.from("notificaciones").update({leida:!0}).eq("id",w);if(N)throw N;await h()}catch(N){console.error("Error marking notification as read:",N)}},marcarTodasComoLeidas:async()=>{try{const{error:w}=await H.from("notificaciones").update({leida:!0}).eq("leida",!1);if(w)throw w;de({title:"â Notificaciones leÃ­das",description:"Todas las notificaciones han sido marcadas como leÃ­das"}),await h()}catch(w){console.error("Error marking all as read:",w)}},eliminarNotificacion:async w=>{try{const{error:N}=await H.from("notificaciones").delete().eq("id",w);if(N)throw N;await h()}catch(N){console.error("Error deleting notification:",N)}},generarNotificacionesMantenimiento:async()=>{try{const{error:w}=await H.rpc("generar_notificaciones_mantenimientos");if(w)throw w;de({title:"â Notificaciones generadas",description:"Se generaron las notificaciones de mantenimientos"}),await h()}catch(w){console.error("Error generating maintenance notifications:",w),de({title:"â Error",description:"No se pudieron generar las notificaciones",variant:"destructive"})}},generarNotificacionesStock:async()=>{try{const{error:w}=await H.rpc("generar_notificaciones_stock_bajo");if(w)throw w;de({title:"â Notificaciones generadas",description:"Se generaron las notificaciones de stock bajo"}),await h()}catch(w){console.error("Error generating stock notifications:",w),de({title:"â Error",description:"No se pudieron generar las notificaciones",variant:"destructive"})}}}}var El="Separator",ka="horizontal",Pl=["horizontal","vertical"],Fr=l.forwardRef((e,t)=>{const{decorative:a,orientation:n=ka,...o}=e,s=Rl(n)?n:ka,i=a?{role:"none"}:{"aria-orientation":s==="vertical"?s:void 0,role:"separator"};return r.jsx(O.div,{"data-orientation":s,...i,...o,ref:t})});Fr.displayName=El;function Rl(e){return Pl.includes(e)}var zr=Fr;const $r=l.forwardRef(({className:e,orientation:t="horizontal",decorative:a=!0,...n},o)=>r.jsx(zr,{ref:o,decorative:a,orientation:t,className:y("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));$r.displayName=zr.displayName;function qe(){const e=It(),{notificaciones:t,loading:a,noLeidas:n,marcarComoLeida:o,marcarTodasComoLeidas:s,eliminarNotificacion:c,generarNotificacionesMantenimiento:i,generarNotificacionesStock:m}=kl(),d=h=>{o(h.id),h.accionUrl&&e(h.accionUrl)},u=h=>{switch(h){case"critical":return r.jsx(xo,{className:"h-4 w-4 text-destructive"});case"warning":return r.jsx(Ja,{className:"h-4 w-4 text-amber-500"});default:return r.jsx(Po,{className:"h-4 w-4 text-blue-500"})}},f=h=>{switch(h){case"critical":return"bg-red-50 hover:bg-red-100 border-red-200 dark:bg-red-950/20 dark:hover:bg-red-950/30 dark:border-red-900/50";case"warning":return"bg-amber-50 hover:bg-amber-100 border-amber-200 dark:bg-amber-950/20 dark:hover:bg-amber-950/30 dark:border-amber-900/50";default:return"bg-blue-50 hover:bg-blue-100 border-blue-200 dark:bg-blue-950/20 dark:hover:bg-blue-950/30 dark:border-blue-900/50"}};return r.jsxs(st,{children:[r.jsx(it,{asChild:!0,children:r.jsxs(L,{variant:"ghost",size:"icon",className:"relative h-12 w-12 rounded-2xl bg-background hover:bg-accent transition-all duration-300 hover:scale-105 active:scale-95 overflow-visible",title:"Centro de Notificaciones",children:[r.jsx(Ge,{className:"h-6 w-6 text-amber-500 dark:text-amber-400"}),n>0&&r.jsx("span",{className:"absolute top-0 right-0 flex h-5 min-w-[20px] items-center justify-center rounded-full bg-red-600 px-1.5 text-[10px] font-extrabold text-white shadow-lg border-2 border-background z-10 -translate-y-1/4 translate-x-1/4",children:n>99?"99+":n})]})}),r.jsxs(Me,{className:"w-96 p-0 dark:bg-slate-900 dark:border-slate-800",align:"end",children:[r.jsxs("div",{className:"flex items-center justify-between p-4 border-b dark:border-slate-800",children:[r.jsx("h3",{className:"font-semibold text-lg",children:"Notificaciones"}),r.jsx("div",{className:"flex gap-2",children:r.jsx(L,{variant:"ghost",size:"sm",onClick:s,disabled:n===0,title:"Marcar todas como leÃ­das",children:r.jsx(yo,{className:"h-4 w-4"})})})]}),r.jsx(Xt,{className:"h-96",children:a?r.jsx("div",{className:"p-4 text-center text-muted-foreground",children:"Cargando notificaciones..."}):t.length===0?r.jsxs("div",{className:"p-8 text-center",children:[r.jsx(Ge,{className:"h-12 w-12 mx-auto text-muted-foreground mb-2"}),r.jsx("p",{className:"text-muted-foreground",children:"No hay notificaciones"})]}):r.jsx("div",{className:"divide-y",children:t.map(h=>r.jsx("div",{className:`p-3 transition-colors cursor-pointer ${h.leida?"hover:bg-muted dark:hover:bg-slate-800":f(h.nivel)} border-l-4 ${h.leida?"border-l-transparent":"border-l-primary dark:border-l-primary"}`,onClick:()=>d(h),children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx("div",{className:"mt-0.5",children:u(h.nivel)}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-start justify-between gap-2",children:[r.jsx("p",{className:"font-medium text-sm leading-tight",children:h.titulo}),r.jsx(L,{variant:"ghost",size:"icon",className:"h-6 w-6 shrink-0",onClick:g=>{g.stopPropagation(),c(h.id)},children:r.jsx(Lt,{className:"h-3 w-3"})})]}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:h.mensaje}),r.jsxs("div",{className:"flex items-center justify-between mt-2",children:[r.jsx("span",{className:"text-xs text-muted-foreground",children:Ir(new Date(h.createdAt),{addSuffix:!0,locale:Lr})}),h.accionUrl&&r.jsx(jo,{className:"h-3 w-3 text-muted-foreground"})]})]})]})},h.id))})}),r.jsx($r,{}),r.jsx("div",{className:"p-2 bg-muted/50 dark:bg-slate-900/50",children:r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(L,{variant:"outline",size:"sm",className:"flex-1 gap-2",onClick:i,children:[r.jsx(rt,{className:"h-4 w-4"}),"Generar Mantenimientos"]}),r.jsxs(L,{variant:"outline",size:"sm",className:"flex-1 gap-2",onClick:m,children:[r.jsx(zt,{className:"h-4 w-4"}),"Generar Stock"]})]})})]})]})}function jt({className:e}){const{signOut:t}=Ft(),a=It(),{toast:n}=Ot(),o=async()=>{try{await t(),n({title:"SesiÃ³n cerrada",description:"Has cerrado sesiÃ³n exitosamente"}),a("/auth")}catch{n({title:"Error",description:"No se pudo cerrar sesiÃ³n",variant:"destructive"})}};return r.jsxs(L,{variant:"ghost",size:"sm",onClick:o,className:`gap-2 ${e||""}`,children:[r.jsx(Ro,{className:"h-4 w-4"}),"Cerrar SesiÃ³n"]})}var dt="Dialog",[Wr,Hr]=Re(dt),[Al,K]=Wr(dt),qr=e=>{const{__scopeDialog:t,children:a,open:n,defaultOpen:o,onOpenChange:s,modal:c=!0}=e,i=l.useRef(null),m=l.useRef(null),[d,u]=Fa({prop:n,defaultProp:o??!1,onChange:s,caller:dt});return r.jsx(Al,{scope:t,triggerRef:i,contentRef:m,contentId:ee(),titleId:ee(),descriptionId:ee(),open:d,onOpenChange:u,onOpenToggle:l.useCallback(()=>u(f=>!f),[u]),modal:c,children:a})};qr.displayName=dt;var Vr="DialogTrigger",Ur=l.forwardRef((e,t)=>{const{__scopeDialog:a,...n}=e,o=K(Vr,a),s=V(t,o.triggerRef);return r.jsx(O.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":Gt(o.open),...n,ref:s,onClick:z(e.onClick,o.onOpenToggle)})});Ur.displayName=Vr;var Yt="DialogPortal",[Ml,Br]=Wr(Yt,{forceMount:void 0}),Xr=e=>{const{__scopeDialog:t,forceMount:a,children:n,container:o}=e,s=K(Yt,t);return r.jsx(Ml,{scope:t,forceMount:a,children:l.Children.map(n,c=>r.jsx(ae,{present:a||s.open,children:r.jsx(za,{asChild:!0,container:o,children:c})}))})};Xr.displayName=Yt;var at="DialogOverlay",Yr=l.forwardRef((e,t)=>{const a=Br(at,e.__scopeDialog),{forceMount:n=a.forceMount,...o}=e,s=K(at,e.__scopeDialog);return s.modal?r.jsx(ae,{present:n||s.open,children:r.jsx(Tl,{...o,ref:t})}):null});Yr.displayName=at;var Dl=$a("DialogOverlay.RemoveScroll"),Tl=l.forwardRef((e,t)=>{const{__scopeDialog:a,...n}=e,o=K(at,a);return r.jsx(Wt,{as:Dl,allowPinchZoom:!0,shards:[o.contentRef],children:r.jsx(O.div,{"data-state":Gt(o.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),ie="DialogContent",Kr=l.forwardRef((e,t)=>{const a=Br(ie,e.__scopeDialog),{forceMount:n=a.forceMount,...o}=e,s=K(ie,e.__scopeDialog);return r.jsx(ae,{present:n||s.open,children:s.modal?r.jsx(_l,{...o,ref:t}):r.jsx(Ol,{...o,ref:t})})});Kr.displayName=ie;var _l=l.forwardRef((e,t)=>{const a=K(ie,e.__scopeDialog),n=l.useRef(null),o=V(t,a.contentRef,n);return l.useEffect(()=>{const s=n.current;if(s)return tr(s)},[]),r.jsx(Gr,{...e,ref:o,trapFocus:a.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:z(e.onCloseAutoFocus,s=>{var c;s.preventDefault(),(c=a.triggerRef.current)==null||c.focus()}),onPointerDownOutside:z(e.onPointerDownOutside,s=>{const c=s.detail.originalEvent,i=c.button===0&&c.ctrlKey===!0;(c.button===2||i)&&s.preventDefault()}),onFocusOutside:z(e.onFocusOutside,s=>s.preventDefault())})}),Ol=l.forwardRef((e,t)=>{const a=K(ie,e.__scopeDialog),n=l.useRef(!1),o=l.useRef(!1);return r.jsx(Gr,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var c,i;(c=e.onCloseAutoFocus)==null||c.call(e,s),s.defaultPrevented||(n.current||(i=a.triggerRef.current)==null||i.focus(),s.preventDefault()),n.current=!1,o.current=!1},onInteractOutside:s=>{var m,d;(m=e.onInteractOutside)==null||m.call(e,s),s.defaultPrevented||(n.current=!0,s.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const c=s.target;((d=a.triggerRef.current)==null?void 0:d.contains(c))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&o.current&&s.preventDefault()}})}),Gr=l.forwardRef((e,t)=>{const{__scopeDialog:a,trapFocus:n,onOpenAutoFocus:o,onCloseAutoFocus:s,...c}=e,i=K(ie,a),m=l.useRef(null),d=V(t,m);return Qa(),r.jsxs(r.Fragment,{children:[r.jsx($t,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:o,onUnmountAutoFocus:s,children:r.jsx(La,{role:"dialog",id:i.contentId,"aria-describedby":i.descriptionId,"aria-labelledby":i.titleId,"data-state":Gt(i.open),...c,ref:d,onDismiss:()=>i.onOpenChange(!1)})}),r.jsxs(r.Fragment,{children:[r.jsx(Ll,{titleId:i.titleId}),r.jsx(zl,{contentRef:m,descriptionId:i.descriptionId})]})]})}),Kt="DialogTitle",Jr=l.forwardRef((e,t)=>{const{__scopeDialog:a,...n}=e,o=K(Kt,a);return r.jsx(O.h2,{id:o.titleId,...n,ref:t})});Jr.displayName=Kt;var Qr="DialogDescription",Zr=l.forwardRef((e,t)=>{const{__scopeDialog:a,...n}=e,o=K(Qr,a);return r.jsx(O.p,{id:o.descriptionId,...n,ref:t})});Zr.displayName=Qr;var en="DialogClose",tn=l.forwardRef((e,t)=>{const{__scopeDialog:a,...n}=e,o=K(en,a);return r.jsx(O.button,{type:"button",...n,ref:t,onClick:z(e.onClick,()=>o.onOpenChange(!1))})});tn.displayName=en;function Gt(e){return e?"open":"closed"}var an="DialogTitleWarning",[Il,rn]=mo(an,{contentName:ie,titleName:Kt,docsSlug:"dialog"}),Ll=({titleId:e})=>{const t=rn(an),a=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return l.useEffect(()=>{e&&(document.getElementById(e)||console.error(a))},[a,e]),null},Fl="DialogDescriptionWarning",zl=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${rn(Fl).contentName}}.`;return l.useEffect(()=>{var s;const o=(s=e.current)==null?void 0:s.getAttribute("aria-describedby");t&&o&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},ut=qr,Jt=Ur,mt=Xr,je=Yr,Se=Kr,De=Jr,Te=Zr,_e=tn;const $l=ut,Wl=Jt,Ea=_e,Hl=mt,nn=l.forwardRef(({className:e,...t},a)=>r.jsx(je,{className:y("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:a}));nn.displayName=je.displayName;const ql=Wa("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),on=l.forwardRef(({side:e="right",className:t,children:a,...n},o)=>r.jsxs(Hl,{children:[r.jsx(nn,{}),r.jsxs(Se,{ref:o,className:y(ql({side:e}),t),...n,children:[a,r.jsxs(_e,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-secondary hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[r.jsx(Lt,{className:"h-4 w-4"}),r.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));on.displayName=Se.displayName;const sn=({className:e,...t})=>r.jsx("div",{className:y("flex flex-col space-y-2 text-center sm:text-left",e),...t});sn.displayName="SheetHeader";const ln=l.forwardRef(({className:e,...t},a)=>r.jsx(De,{ref:a,className:y("text-lg font-semibold text-foreground",e),...t}));ln.displayName=De.displayName;const cn=l.forwardRef(({className:e,...t},a)=>r.jsx(Te,{ref:a,className:y("text-sm text-muted-foreground",e),...t}));cn.displayName=Te.displayName;function Vl(){const{user:e}=Ft(),[t,a]=l.useState(null),[n,o]=l.useState(!0),[s,c]=l.useState([]),[i,m]=l.useState(!1),[d,u]=l.useState(null);l.useEffect(()=>{async function b(){if(!e){a(null),o(!1);return}try{const{data:p,error:j}=await H.from("user_roles").select("role").eq("user_id",e.id).single();j?(console.error("Error loading user role:",j),a("user")):a((p==null?void 0:p.role)||"user")}catch(p){console.error("Error:",p),a("user")}finally{o(!1)}}b()},[e]);const f=l.useCallback(async b=>{if(!e)return!1;try{const{data:p,error:j}=await H.rpc("has_role",{_user_id:e.id,_role:b});return j?(console.error("Error checking role:",j),!1):!!p}catch(p){return console.error("Error:",p),!1}},[e]),h=l.useCallback(async()=>{if(!e||t!=="admin"){u("No autorizado");return}m(!0),u(null);try{const{data:b,error:p}=await H.from("user_roles").select("user_id, role, created_at");if(p)throw p;const j=(b||[]).map(S=>({id:S.user_id,email:`Usuario ${S.user_id.slice(0,8)}...`,role:S.role,created_at:S.created_at}));c(j)}catch(b){console.error("Error fetching users:",b),u("Error al cargar usuarios")}finally{m(!1)}},[e,t]),g=l.useCallback(async(b,p)=>{if(!e||t!=="admin")return u("No autorizado para cambiar roles"),!1;try{const{data:j}=await H.from("user_roles").select("id").eq("user_id",b).single();if(j){const{error:S}=await H.from("user_roles").update({role:p}).eq("user_id",b);if(S)throw S}else{const{error:S}=await H.from("user_roles").insert({user_id:b,role:p});if(S)throw S}return c(S=>S.map(w=>w.id===b?{...w,role:p}:w)),!0}catch(j){return console.error("Error updating role:",j),u("Error al actualizar rol"),!1}},[e,t]);return{currentUserRole:t,isAdmin:t==="admin",isUser:t==="user",loading:n,users:s,loadingUsers:i,fetchUsers:h,updateUserRole:g,checkRole:f,error:d}}var dn={exports:{}},un={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ne=l;function Ul(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Bl=typeof Object.is=="function"?Object.is:Ul,Xl=Ne.useState,Yl=Ne.useEffect,Kl=Ne.useLayoutEffect,Gl=Ne.useDebugValue;function Jl(e,t){var a=t(),n=Xl({inst:{value:a,getSnapshot:t}}),o=n[0].inst,s=n[1];return Kl(function(){o.value=a,o.getSnapshot=t,St(o)&&s({inst:o})},[e,a,t]),Yl(function(){return St(o)&&s({inst:o}),e(function(){St(o)&&s({inst:o})})},[e]),Gl(a),a}function St(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!Bl(e,a)}catch{return!0}}function Ql(e,t){return t()}var Zl=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Ql:Jl;un.useSyncExternalStore=Ne.useSyncExternalStore!==void 0?Ne.useSyncExternalStore:Zl;dn.exports=un;var ec=dn.exports;function tc(){return ec.useSyncExternalStore(ac,()=>!0,()=>!1)}function ac(){return()=>{}}var Qt="Avatar",[rc,pd]=Re(Qt),[nc,mn]=rc(Qt),fn=l.forwardRef((e,t)=>{const{__scopeAvatar:a,...n}=e,[o,s]=l.useState("idle");return r.jsx(nc,{scope:a,imageLoadingStatus:o,onImageLoadingStatusChange:s,children:r.jsx(O.span,{...n,ref:t})})});fn.displayName=Qt;var hn="AvatarImage",pn=l.forwardRef((e,t)=>{const{__scopeAvatar:a,src:n,onLoadingStatusChange:o=()=>{},...s}=e,c=mn(hn,a),i=oc(n,s),m=G(d=>{o(d),c.onImageLoadingStatusChange(d)});return Ke(()=>{i!=="idle"&&m(i)},[i,m]),i==="loaded"?r.jsx(O.img,{...s,ref:t,src:n}):null});pn.displayName=hn;var gn="AvatarFallback",vn=l.forwardRef((e,t)=>{const{__scopeAvatar:a,delayMs:n,...o}=e,s=mn(gn,a),[c,i]=l.useState(n===void 0);return l.useEffect(()=>{if(n!==void 0){const m=window.setTimeout(()=>i(!0),n);return()=>window.clearTimeout(m)}},[n]),c&&s.imageLoadingStatus!=="loaded"?r.jsx(O.span,{...o,ref:t}):null});vn.displayName=gn;function Pa(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function oc(e,{referrerPolicy:t,crossOrigin:a}){const n=tc(),o=l.useRef(null),s=n?(o.current||(o.current=new window.Image),o.current):null,[c,i]=l.useState(()=>Pa(s,e));return Ke(()=>{i(Pa(s,e))},[s,e]),Ke(()=>{const m=f=>()=>{i(f)};if(!s)return;const d=m("loaded"),u=m("error");return s.addEventListener("load",d),s.addEventListener("error",u),t&&(s.referrerPolicy=t),typeof a=="string"&&(s.crossOrigin=a),()=>{s.removeEventListener("load",d),s.removeEventListener("error",u)}},[s,a,t]),c}var xn=fn,bn=pn,yn=vn;const Mt=l.forwardRef(({className:e,...t},a)=>r.jsx(xn,{ref:a,className:y("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));Mt.displayName=xn.displayName;const sc=l.forwardRef(({className:e,...t},a)=>r.jsx(bn,{ref:a,className:y("aspect-square h-full w-full",e),...t}));sc.displayName=bn.displayName;const Dt=l.forwardRef(({className:e,...t},a)=>r.jsx(yn,{ref:a,className:y("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));Dt.displayName=yn.displayName;function Ra({className:e,...t}){return r.jsx("div",{className:y("animate-pulse rounded-md bg-muted",e),...t})}function Aa({compact:e=!1,className:t}){const{user:a}=Ft(),{currentUserRole:n,loading:o}=Vl();if(o)return r.jsxs("div",{className:y("flex items-center gap-2",t),children:[r.jsx(Ra,{className:"h-8 w-8 rounded-full"}),!e&&r.jsx(Ra,{className:"h-4 w-24"})]});if(!a)return null;const s=a.email||"Usuario",c=s.substring(0,2).toUpperCase(),i=n==="admin";return e?r.jsxs("div",{className:y("flex items-center gap-2",t),children:[r.jsx(Mt,{className:"h-8 w-8 border-2 border-primary/20",children:r.jsx(Dt,{className:y("text-xs font-bold",i?"bg-primary/20 text-primary":"bg-muted text-muted-foreground"),children:c})}),r.jsxs(tt,{variant:i?"default":"secondary",className:y("gap-1 text-xs",i?"bg-primary/90":""),children:[i?r.jsx(sa,{className:"h-3 w-3"}):r.jsx(ia,{className:"h-3 w-3"}),i?"Admin":"Usuario"]})]}):r.jsxs("div",{className:y("flex items-center gap-3 px-3 py-2 rounded-lg border bg-card/50",i?"border-primary/30 bg-primary/5":"border-border",t),children:[r.jsx(Mt,{className:y("h-9 w-9 border-2",i?"border-primary/40":"border-border"),children:r.jsx(Dt,{className:y("text-sm font-bold",i?"bg-primary/20 text-primary":"bg-muted text-muted-foreground"),children:c})}),r.jsxs("div",{className:"flex flex-col min-w-0",children:[r.jsx("span",{className:"text-sm font-medium truncate max-w-[150px]",title:s,children:s}),r.jsxs(tt,{variant:i?"default":"secondary",className:y("w-fit gap-1 text-[10px] px-1.5 py-0",i?"bg-primary/90":""),children:[i?r.jsx(sa,{className:"h-2.5 w-2.5"}):r.jsx(ia,{className:"h-2.5 w-2.5"}),i?"Administrador":"Usuario"]})]})]})}const Ct=[{path:"/",label:"Dashboard",icon:Xa},{path:"/equipos",label:"Equipos",icon:Qe},{path:"/control-mantenimiento",label:"Control Mantenimiento",icon:rt},{path:"/planificador-inteligente",label:"Planificador Inteligente",icon:_o},{path:"/inventario",label:"Inventario",icon:zt},{path:"/mantenimiento",label:"Mantenimiento",icon:Je},{path:"/planes-mantenimiento",label:"Planes Mant.",icon:No},{path:"/kits-mantenimiento",label:"Kits Mant.",icon:Do},{path:"/historial",label:"Historial",icon:Ba},{path:"/reportes",label:"Reportes",icon:bo},{path:"/listas-personalizadas",label:"Listas personalizadas",icon:Rt},{path:"/configuraciones",label:"Configuraciones",icon:Ka},{path:"/asistente",label:"Asistente IA",icon:Ao}];function ic({hideBrand:e=!1}){const t=qa(),[a,n]=l.useState(!1);l.useMemo(()=>Ct.map(({path:i,label:m,icon:d})=>r.jsxs(he,{to:i,className:y("group relative inline-flex w-full items-center justify-center gap-2 overflow-hidden rounded-lg px-3 py-3 text-sm font-medium transition-all duration-300 sm:w-auto sm:rounded-lg sm:py-4",t.pathname===i?"bg-primary/10 text-primary shadow-lg shadow-primary/20":"text-muted-foreground hover:bg-gradient-to-r hover:from-muted hover:via-muted/90 hover:to-muted hover:text-foreground hover:shadow-md"),children:[r.jsx(d,{className:y("h-4 w-4 relative z-10 transition-all duration-300 drop-shadow-sm",t.pathname===i?"scale-110":"group-hover:scale-125 group-hover:rotate-6")}),r.jsx("span",{className:"relative z-10",children:m})]},i)),[t.pathname]);const o=new Set(["/","/equipos","/mantenimiento","/control-mantenimiento","/asistente"]),s=Ct.filter(i=>o.has(i.path)),c=Ct.filter(i=>!o.has(i.path));return r.jsx("nav",{className:"border-b border-border/60 bg-card/80 backdrop-blur supports-[backdrop-filter]:bg-card/60 dark:border-border/40 dark:bg-card/70 mb-6",children:r.jsxs($l,{open:a,onOpenChange:n,children:[r.jsxs("div",{className:"mx-auto w-full max-w-[1600px] px-4 py-3 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"flex items-center justify-between sm:hidden",children:[r.jsx(Xe,{compact:!0,showTagline:!1}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(qe,{}),r.jsx(Wl,{asChild:!0,children:r.jsxs(L,{variant:"outline",size:"sm",className:"gap-2",children:[r.jsx(oa,{className:"h-4 w-4"}),"Abrir menÃº"]})})]})]}),r.jsxs("div",{className:"hidden w-full flex-col gap-4 sm:flex",children:[r.jsxs("div",{className:"flex w-full flex-col items-center justify-between gap-4 lg:flex-row",children:[!e&&r.jsx(Xe,{compact:!0,showTagline:!1,className:"shrink-0"}),r.jsxs("div",{className:y("flex w-full flex-wrap items-center gap-2 lg:flex-1 lg:justify-center lg:gap-4",e?"justify-start sm:justify-center":"justify-center"),children:[s.map(({path:i,label:m,icon:d})=>r.jsxs(he,{to:i,className:y("group relative inline-flex items-center gap-2 overflow-hidden rounded-lg px-3 py-3 text-sm font-medium transition-all duration-300 sm:py-4",t.pathname===i?"bg-primary/10 text-primary shadow-lg shadow-primary/20":"text-muted-foreground hover:bg-gradient-to-r hover:from-muted hover:via-muted/90 hover:to-muted hover:text-foreground hover:shadow-md"),children:[r.jsx(d,{className:y("h-4 w-4 relative z-10")}),r.jsx("span",{className:"relative z-10",children:m})]},i)),r.jsx("div",{className:"ml-2",children:r.jsxs(st,{children:[r.jsx(it,{asChild:!0,children:r.jsxs(L,{variant:"outline",size:"sm",className:"gap-2",children:[r.jsx(oa,{className:"h-4 w-4"}),"MÃ¡s"]})}),r.jsx(Me,{className:"min-w-[220px]",children:r.jsxs("div",{className:"flex flex-col gap-1",children:[c.map(({path:i,label:m,icon:d})=>r.jsxs(he,{to:i,className:y("flex items-center gap-2 rounded-md px-3 py-2 text-sm",t.pathname===i?"bg-muted/10 font-semibold":"hover:bg-muted/5"),children:[r.jsx(d,{className:"h-4 w-4"}),r.jsx("span",{children:m})]},i)),r.jsx("div",{className:"pt-2 border-t mt-2",children:r.jsx(L,{size:"sm",variant:"ghost",onClick:()=>n(!0),className:"w-full",children:"Desacoplar menÃº"})})]})})]})})]}),r.jsxs("div",{className:"hidden shrink-0 items-center gap-3 lg:flex",children:[r.jsx(Aa,{}),r.jsx(qe,{}),r.jsx(jt,{})]})]}),r.jsx("div",{className:"flex w-full items-center justify-between gap-2 lg:hidden",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(qe,{}),r.jsx(jt,{})]})})]})]}),r.jsxs(on,{side:"left",className:"w-[320px] bg-background text-foreground sm:hidden overflow-y-auto",children:[r.jsxs(sn,{className:"space-y-3 text-left pb-4 border-b",children:[r.jsx(Xe,{compact:!1,showTagline:!0}),r.jsx(ln,{className:"text-lg font-bold",children:"NavegaciÃ³n"}),r.jsx(cn,{className:"text-sm",children:"Accede a todas las secciones del sistema"})]}),r.jsxs("div",{className:"mt-6 space-y-6",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx("p",{className:"text-xs font-semibold uppercase tracking-wider text-muted-foreground px-2",children:"Principal"}),r.jsx("div",{className:"grid gap-1.5",children:s.map(({path:i,label:m,icon:d})=>r.jsx(Ea,{asChild:!0,children:r.jsxs(he,{to:i,className:y("group relative flex items-center gap-3 overflow-hidden rounded-xl px-4 py-3.5 text-sm font-semibold transition-all duration-200 active:scale-[0.98]",t.pathname===i?"bg-primary text-primary-foreground shadow-lg shadow-primary/25":"text-foreground hover:bg-muted active:bg-muted/80"),children:[r.jsx("div",{className:y("rounded-lg p-2 transition-all duration-200 relative z-10",t.pathname===i?"bg-white/15":"bg-transparent group-hover:bg-foreground/5"),children:r.jsx(d,{className:"h-5 w-5 shrink-0"})}),r.jsx("span",{className:"flex-1 relative z-10",children:m}),t.pathname===i&&r.jsx("div",{className:"h-2 w-2 rounded-full bg-primary-foreground shadow-md relative z-10 animate-pulse"})]})},i))})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("p",{className:"text-xs font-semibold uppercase tracking-wider text-muted-foreground px-2",children:"GestiÃ³n y Reportes"}),r.jsx("div",{className:"grid gap-1.5",children:c.map(({path:i,label:m,icon:d})=>r.jsx(Ea,{asChild:!0,children:r.jsxs(he,{to:i,className:y("group relative flex items-center gap-3 overflow-hidden rounded-xl px-4 py-3 text-sm font-medium transition-all duration-200 active:scale-[0.98]",t.pathname===i?"bg-primary text-primary-foreground shadow-md":"text-muted-foreground hover:text-foreground hover:bg-muted/50"),children:[r.jsx(d,{className:"h-4 w-4 shrink-0"}),r.jsx("span",{className:"flex-1",children:m}),t.pathname===i&&r.jsx("div",{className:"h-1.5 w-1.5 rounded-full bg-primary-foreground"})]})},i))})]}),r.jsxs("div",{className:"pt-4 border-t border-border space-y-3",children:[r.jsx(Aa,{className:"w-full"}),r.jsx(qe,{}),r.jsx(jt,{className:"w-full"})]})]})]})]})})}var wn="AlertDialog",[lc,gd]=Re(wn,[Hr]),re=Hr(),Nn=e=>{const{__scopeAlertDialog:t,...a}=e,n=re(t);return r.jsx(ut,{...n,...a,modal:!0})};Nn.displayName=wn;var cc="AlertDialogTrigger",jn=l.forwardRef((e,t)=>{const{__scopeAlertDialog:a,...n}=e,o=re(a);return r.jsx(Jt,{...o,...n,ref:t})});jn.displayName=cc;var dc="AlertDialogPortal",Sn=e=>{const{__scopeAlertDialog:t,...a}=e,n=re(t);return r.jsx(mt,{...n,...a})};Sn.displayName=dc;var uc="AlertDialogOverlay",Cn=l.forwardRef((e,t)=>{const{__scopeAlertDialog:a,...n}=e,o=re(a);return r.jsx(je,{...o,...n,ref:t})});Cn.displayName=uc;var be="AlertDialogContent",[mc,fc]=lc(be),hc=fo("AlertDialogContent"),kn=l.forwardRef((e,t)=>{const{__scopeAlertDialog:a,children:n,...o}=e,s=re(a),c=l.useRef(null),i=V(t,c),m=l.useRef(null);return r.jsx(Il,{contentName:be,titleName:En,docsSlug:"alert-dialog",children:r.jsx(mc,{scope:a,cancelRef:m,children:r.jsxs(Se,{role:"alertdialog",...s,...o,ref:i,onOpenAutoFocus:z(o.onOpenAutoFocus,d=>{var u;d.preventDefault(),(u=m.current)==null||u.focus({preventScroll:!0})}),onPointerDownOutside:d=>d.preventDefault(),onInteractOutside:d=>d.preventDefault(),children:[r.jsx(hc,{children:n}),r.jsx(gc,{contentRef:c})]})})})});kn.displayName=be;var En="AlertDialogTitle",Pn=l.forwardRef((e,t)=>{const{__scopeAlertDialog:a,...n}=e,o=re(a);return r.jsx(De,{...o,...n,ref:t})});Pn.displayName=En;var Rn="AlertDialogDescription",An=l.forwardRef((e,t)=>{const{__scopeAlertDialog:a,...n}=e,o=re(a);return r.jsx(Te,{...o,...n,ref:t})});An.displayName=Rn;var pc="AlertDialogAction",Mn=l.forwardRef((e,t)=>{const{__scopeAlertDialog:a,...n}=e,o=re(a);return r.jsx(_e,{...o,...n,ref:t})});Mn.displayName=pc;var Dn="AlertDialogCancel",Tn=l.forwardRef((e,t)=>{const{__scopeAlertDialog:a,...n}=e,{cancelRef:o}=fc(Dn,a),s=re(a),c=V(t,o);return r.jsx(_e,{...s,...n,ref:c})});Tn.displayName=Dn;var gc=({contentRef:e})=>{const t=`\`${be}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${be}\` by passing a \`${Rn}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${be}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return l.useEffect(()=>{var n;document.getElementById((n=e.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},vc=Nn,xc=jn,bc=Sn,_n=Cn,On=kn,In=Mn,Ln=Tn,Fn=Pn,zn=An;const yc=vc,vd=xc,wc=bc,$n=l.forwardRef(({className:e,...t},a)=>r.jsx(_n,{className:y("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:a}));$n.displayName=_n.displayName;const Wn=l.forwardRef(({className:e,...t},a)=>r.jsxs(wc,{children:[r.jsx($n,{}),r.jsx(On,{ref:a,className:y("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));Wn.displayName=On.displayName;const Hn=({className:e,...t})=>r.jsx("div",{className:y("flex flex-col space-y-2 text-center sm:text-left",e),...t});Hn.displayName="AlertDialogHeader";const qn=({className:e,...t})=>r.jsx("div",{className:y("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});qn.displayName="AlertDialogFooter";const Vn=l.forwardRef(({className:e,...t},a)=>r.jsx(Fn,{ref:a,className:y("text-lg font-semibold",e),...t}));Vn.displayName=Fn.displayName;const Un=l.forwardRef(({className:e,...t},a)=>r.jsx(zn,{ref:a,className:y("text-sm text-muted-foreground",e),...t}));Un.displayName=zn.displayName;const Bn=l.forwardRef(({className:e,...t},a)=>r.jsx(In,{ref:a,className:y(Ua(),e),...t}));Bn.displayName=In.displayName;const Xn=l.forwardRef(({className:e,...t},a)=>r.jsx(Ln,{ref:a,className:y(Ua({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));Xn.displayName=Ln.displayName;function Nc({open:e,onOpenChange:t,onConfirm:a,title:n,description:o,confirmText:s="Confirmar",cancelText:c="Cancelar",variant:i="default"}){return r.jsx(yc,{open:e,onOpenChange:t,children:r.jsxs(Wn,{className:"sm:max-w-[425px]",children:[r.jsxs(Hn,{children:[r.jsx(Vn,{children:n}),r.jsx(Un,{className:"text-base",children:o})]}),r.jsxs(qn,{children:[r.jsx(Xn,{children:c}),r.jsx(Bn,{onClick:a,className:i==="destructive"?"bg-red-600 hover:bg-red-700 focus:ring-red-600 dark:bg-red-900 dark:hover:bg-red-800":"",children:s})]})]})})}const jc=[{to:"/",label:"Dashboard",icon:Eo},{to:"/equipos",label:"Equipos",icon:Qe},{to:"/mantenimiento",label:"Mantenimiento",icon:Je},{to:"/control-mantenimiento",label:"Control",icon:rt},{to:"/asistente",label:"Asistente",icon:Mo}];function Sc(){const e=qa();return r.jsx("nav",{className:"fixed bottom-0 left-0 right-0 z-50 bg-card/98 backdrop-blur-xl border-t border-border/60 sm:hidden shadow-[0_-4px_20px_rgba(0,0,0,0.08)] dark:shadow-[0_-4px_20px_rgba(0,0,0,0.3)]",children:r.jsx("div",{className:"mx-auto flex max-w-[1600px] items-center justify-around px-2 py-2 pb-[calc(0.5rem+env(safe-area-inset-bottom))]",children:jc.map(t=>{const a=t.icon,n=e.pathname===t.to;return r.jsxs(he,{to:t.to,className:y("relative flex flex-col items-center justify-center gap-1.5 px-3 py-2 rounded-xl transition-all duration-200 active:scale-95 min-w-[60px]",n?"text-primary":"text-muted-foreground active:bg-muted/50"),children:[n&&r.jsx("div",{className:"absolute -top-0.5 left-1/2 -translate-x-1/2 w-8 h-1 bg-primary rounded-full"}),n&&r.jsx("div",{className:"absolute inset-0 bg-primary/5 rounded-xl"}),r.jsx(a,{className:y("h-5 w-5 transition-all duration-200",n?"scale-110":"scale-100")}),r.jsx("span",{className:y("text-[0.65rem] font-medium transition-all duration-200",n?"scale-100 opacity-100":"scale-95 opacity-70"),children:t.label})]},t.to)})})})}var Ma=1,Cc=.9,kc=.8,Ec=.17,kt=.1,Et=.999,Pc=.9999,Rc=.99,Ac=/[\\\/_+.#"@\[\(\{&]/,Mc=/[\\\/_+.#"@\[\(\{&]/g,Dc=/[\s-]/,Yn=/[\s-]/g;function Tt(e,t,a,n,o,s,c){if(s===t.length)return o===e.length?Ma:Rc;var i=`${o},${s}`;if(c[i]!==void 0)return c[i];for(var m=n.charAt(s),d=a.indexOf(m,o),u=0,f,h,g,b;d>=0;)f=Tt(e,t,a,n,d+1,s+1,c),f>u&&(d===o?f*=Ma:Ac.test(e.charAt(d-1))?(f*=kc,g=e.slice(o,d-1).match(Mc),g&&o>0&&(f*=Math.pow(Et,g.length))):Dc.test(e.charAt(d-1))?(f*=Cc,b=e.slice(o,d-1).match(Yn),b&&o>0&&(f*=Math.pow(Et,b.length))):(f*=Ec,o>0&&(f*=Math.pow(Et,d-o))),e.charAt(d)!==t.charAt(s)&&(f*=Pc)),(f<kt&&a.charAt(d-1)===n.charAt(s+1)||n.charAt(s+1)===n.charAt(s)&&a.charAt(d-1)!==n.charAt(s))&&(h=Tt(e,t,a,n,d+1,s+2,c),h*kt>f&&(f=h*kt)),f>u&&(u=f),d=a.indexOf(m,d+1);return c[i]=u,u}function Da(e){return e.toLowerCase().replace(Yn," ")}function Tc(e,t,a){return e=a&&a.length>0?`${e+" "+a.join(" ")}`:e,Tt(e,t,Da(e),Da(t),0,0,{})}var ke='[cmdk-group=""]',Pt='[cmdk-group-items=""]',_c='[cmdk-group-heading=""]',Kn='[cmdk-item=""]',Ta=`${Kn}:not([aria-disabled="true"])`,_t="cmdk-item-select",pe="data-value",Oc=(e,t,a)=>Tc(e,t,a),Gn=l.createContext(void 0),Oe=()=>l.useContext(Gn),Jn=l.createContext(void 0),Zt=()=>l.useContext(Jn),Qn=l.createContext(void 0),Zn=l.forwardRef((e,t)=>{let a=ge(()=>{var v,R;return{search:"",value:(R=(v=e.value)!=null?v:e.defaultValue)!=null?R:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),n=ge(()=>new Set),o=ge(()=>new Map),s=ge(()=>new Map),c=ge(()=>new Set),i=eo(e),{label:m,children:d,value:u,onValueChange:f,filter:h,shouldFilter:g,loop:b,disablePointerSelection:p=!1,vimBindings:j=!0,...S}=e,w=ee(),N=ee(),E=ee(),x=l.useRef(null),k=Bc();le(()=>{if(u!==void 0){let v=u.trim();a.current.value=v,P.emit()}},[u]),le(()=>{k(6,ea)},[]);let P=l.useMemo(()=>({subscribe:v=>(c.current.add(v),()=>c.current.delete(v)),snapshot:()=>a.current,setState:(v,R,D)=>{var C,_,I,B;if(!Object.is(a.current[v],R)){if(a.current[v]=R,v==="search")Ie(),$(),k(1,F);else if(v==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let q=document.getElementById(E);q?q.focus():(C=document.getElementById(w))==null||C.focus()}if(k(7,()=>{var q;a.current.selectedItemId=(q=ce())==null?void 0:q.id,P.emit()}),D||k(5,ea),((_=i.current)==null?void 0:_.value)!==void 0){let q=R??"";(B=(I=i.current).onValueChange)==null||B.call(I,q);return}}P.emit()}},emit:()=>{c.current.forEach(v=>v())}}),[]),A=l.useMemo(()=>({value:(v,R,D)=>{var C;R!==((C=s.current.get(v))==null?void 0:C.value)&&(s.current.set(v,{value:R,keywords:D}),a.current.filtered.items.set(v,M(R,D)),k(2,()=>{$(),P.emit()}))},item:(v,R)=>(n.current.add(v),R&&(o.current.has(R)?o.current.get(R).add(v):o.current.set(R,new Set([v]))),k(3,()=>{Ie(),$(),a.current.value||F(),P.emit()}),()=>{s.current.delete(v),n.current.delete(v),a.current.filtered.items.delete(v);let D=ce();k(4,()=>{Ie(),(D==null?void 0:D.getAttribute("id"))===v&&F(),P.emit()})}),group:v=>(o.current.has(v)||o.current.set(v,new Set),()=>{s.current.delete(v),o.current.delete(v)}),filter:()=>i.current.shouldFilter,label:m||e["aria-label"],getDisablePointerSelection:()=>i.current.disablePointerSelection,listId:w,inputId:E,labelId:N,listInnerRef:x}),[]);function M(v,R){var D,C;let _=(C=(D=i.current)==null?void 0:D.filter)!=null?C:Oc;return v?_(v,a.current.search,R):0}function $(){if(!a.current.search||i.current.shouldFilter===!1)return;let v=a.current.filtered.items,R=[];a.current.filtered.groups.forEach(C=>{let _=o.current.get(C),I=0;_.forEach(B=>{let q=v.get(B);I=Math.max(q,I)}),R.push([C,I])});let D=x.current;Ce().sort((C,_)=>{var I,B;let q=C.getAttribute("id"),Le=_.getAttribute("id");return((I=v.get(Le))!=null?I:0)-((B=v.get(q))!=null?B:0)}).forEach(C=>{let _=C.closest(Pt);_?_.appendChild(C.parentElement===_?C:C.closest(`${Pt} > *`)):D.appendChild(C.parentElement===D?C:C.closest(`${Pt} > *`))}),R.sort((C,_)=>_[1]-C[1]).forEach(C=>{var _;let I=(_=x.current)==null?void 0:_.querySelector(`${ke}[${pe}="${encodeURIComponent(C[0])}"]`);I==null||I.parentElement.appendChild(I)})}function F(){let v=Ce().find(D=>D.getAttribute("aria-disabled")!=="true"),R=v==null?void 0:v.getAttribute(pe);P.setState("value",R||void 0)}function Ie(){var v,R,D,C;if(!a.current.search||i.current.shouldFilter===!1){a.current.filtered.count=n.current.size;return}a.current.filtered.groups=new Set;let _=0;for(let I of n.current){let B=(R=(v=s.current.get(I))==null?void 0:v.value)!=null?R:"",q=(C=(D=s.current.get(I))==null?void 0:D.keywords)!=null?C:[],Le=M(B,q);a.current.filtered.items.set(I,Le),Le>0&&_++}for(let[I,B]of o.current)for(let q of B)if(a.current.filtered.items.get(q)>0){a.current.filtered.groups.add(I);break}a.current.filtered.count=_}function ea(){var v,R,D;let C=ce();C&&(((v=C.parentElement)==null?void 0:v.firstChild)===C&&((D=(R=C.closest(ke))==null?void 0:R.querySelector(_c))==null||D.scrollIntoView({block:"nearest"})),C.scrollIntoView({block:"nearest"}))}function ce(){var v;return(v=x.current)==null?void 0:v.querySelector(`${Kn}[aria-selected="true"]`)}function Ce(){var v;return Array.from(((v=x.current)==null?void 0:v.querySelectorAll(Ta))||[])}function ht(v){let R=Ce()[v];R&&P.setState("value",R.getAttribute(pe))}function pt(v){var R;let D=ce(),C=Ce(),_=C.findIndex(B=>B===D),I=C[_+v];(R=i.current)!=null&&R.loop&&(I=_+v<0?C[C.length-1]:_+v===C.length?C[0]:C[_+v]),I&&P.setState("value",I.getAttribute(pe))}function ta(v){let R=ce(),D=R==null?void 0:R.closest(ke),C;for(;D&&!C;)D=v>0?Vc(D,ke):Uc(D,ke),C=D==null?void 0:D.querySelector(Ta);C?P.setState("value",C.getAttribute(pe)):pt(v)}let aa=()=>ht(Ce().length-1),ra=v=>{v.preventDefault(),v.metaKey?aa():v.altKey?ta(1):pt(1)},na=v=>{v.preventDefault(),v.metaKey?ht(0):v.altKey?ta(-1):pt(-1)};return l.createElement(O.div,{ref:t,tabIndex:-1,...S,"cmdk-root":"",onKeyDown:v=>{var R;(R=S.onKeyDown)==null||R.call(S,v);let D=v.nativeEvent.isComposing||v.keyCode===229;if(!(v.defaultPrevented||D))switch(v.key){case"n":case"j":{j&&v.ctrlKey&&ra(v);break}case"ArrowDown":{ra(v);break}case"p":case"k":{j&&v.ctrlKey&&na(v);break}case"ArrowUp":{na(v);break}case"Home":{v.preventDefault(),ht(0);break}case"End":{v.preventDefault(),aa();break}case"Enter":{v.preventDefault();let C=ce();if(C){let _=new Event(_t);C.dispatchEvent(_)}}}}},l.createElement("label",{"cmdk-label":"",htmlFor:A.inputId,id:A.labelId,style:Yc},m),ft(e,v=>l.createElement(Jn.Provider,{value:P},l.createElement(Gn.Provider,{value:A},v))))}),Ic=l.forwardRef((e,t)=>{var a,n;let o=ee(),s=l.useRef(null),c=l.useContext(Qn),i=Oe(),m=eo(e),d=(n=(a=m.current)==null?void 0:a.forceMount)!=null?n:c==null?void 0:c.forceMount;le(()=>{if(!d)return i.item(o,c==null?void 0:c.id)},[d]);let u=to(o,s,[e.value,e.children,s],e.keywords),f=Zt(),h=oe(k=>k.value&&k.value===u.current),g=oe(k=>d||i.filter()===!1?!0:k.search?k.filtered.items.get(o)>0:!0);l.useEffect(()=>{let k=s.current;if(!(!k||e.disabled))return k.addEventListener(_t,b),()=>k.removeEventListener(_t,b)},[g,e.onSelect,e.disabled]);function b(){var k,P;p(),(P=(k=m.current).onSelect)==null||P.call(k,u.current)}function p(){f.setState("value",u.current,!0)}if(!g)return null;let{disabled:j,value:S,onSelect:w,forceMount:N,keywords:E,...x}=e;return l.createElement(O.div,{ref:Pe(s,t),...x,id:o,"cmdk-item":"",role:"option","aria-disabled":!!j,"aria-selected":!!h,"data-disabled":!!j,"data-selected":!!h,onPointerMove:j||i.getDisablePointerSelection()?void 0:p,onClick:j?void 0:b},e.children)}),Lc=l.forwardRef((e,t)=>{let{heading:a,children:n,forceMount:o,...s}=e,c=ee(),i=l.useRef(null),m=l.useRef(null),d=ee(),u=Oe(),f=oe(g=>o||u.filter()===!1?!0:g.search?g.filtered.groups.has(c):!0);le(()=>u.group(c),[]),to(c,i,[e.value,e.heading,m]);let h=l.useMemo(()=>({id:c,forceMount:o}),[o]);return l.createElement(O.div,{ref:Pe(i,t),...s,"cmdk-group":"",role:"presentation",hidden:f?void 0:!0},a&&l.createElement("div",{ref:m,"cmdk-group-heading":"","aria-hidden":!0,id:d},a),ft(e,g=>l.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":a?d:void 0},l.createElement(Qn.Provider,{value:h},g))))}),Fc=l.forwardRef((e,t)=>{let{alwaysRender:a,...n}=e,o=l.useRef(null),s=oe(c=>!c.search);return!a&&!s?null:l.createElement(O.div,{ref:Pe(o,t),...n,"cmdk-separator":"",role:"separator"})}),zc=l.forwardRef((e,t)=>{let{onValueChange:a,...n}=e,o=e.value!=null,s=Zt(),c=oe(d=>d.search),i=oe(d=>d.selectedItemId),m=Oe();return l.useEffect(()=>{e.value!=null&&s.setState("search",e.value)},[e.value]),l.createElement(O.input,{ref:t,...n,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":m.listId,"aria-labelledby":m.labelId,"aria-activedescendant":i,id:m.inputId,type:"text",value:o?e.value:c,onChange:d=>{o||s.setState("search",d.target.value),a==null||a(d.target.value)}})}),$c=l.forwardRef((e,t)=>{let{children:a,label:n="Suggestions",...o}=e,s=l.useRef(null),c=l.useRef(null),i=oe(d=>d.selectedItemId),m=Oe();return l.useEffect(()=>{if(c.current&&s.current){let d=c.current,u=s.current,f,h=new ResizeObserver(()=>{f=requestAnimationFrame(()=>{let g=d.offsetHeight;u.style.setProperty("--cmdk-list-height",g.toFixed(1)+"px")})});return h.observe(d),()=>{cancelAnimationFrame(f),h.unobserve(d)}}},[]),l.createElement(O.div,{ref:Pe(s,t),...o,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":i,"aria-label":n,id:m.listId},ft(e,d=>l.createElement("div",{ref:Pe(c,m.listInnerRef),"cmdk-list-sizer":""},d)))}),Wc=l.forwardRef((e,t)=>{let{open:a,onOpenChange:n,overlayClassName:o,contentClassName:s,container:c,...i}=e;return l.createElement(ut,{open:a,onOpenChange:n},l.createElement(mt,{container:c},l.createElement(je,{"cmdk-overlay":"",className:o}),l.createElement(Se,{"aria-label":e.label,"cmdk-dialog":"",className:s},l.createElement(Zn,{ref:t,...i}))))}),Hc=l.forwardRef((e,t)=>oe(a=>a.filtered.count===0)?l.createElement(O.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),qc=l.forwardRef((e,t)=>{let{progress:a,children:n,label:o="Loading...",...s}=e;return l.createElement(O.div,{ref:t,...s,"cmdk-loading":"",role:"progressbar","aria-valuenow":a,"aria-valuemin":0,"aria-valuemax":100,"aria-label":o},ft(e,c=>l.createElement("div",{"aria-hidden":!0},c)))}),U=Object.assign(Zn,{List:$c,Item:Ic,Input:zc,Group:Lc,Separator:Fc,Dialog:Wc,Empty:Hc,Loading:qc});function Vc(e,t){let a=e.nextElementSibling;for(;a;){if(a.matches(t))return a;a=a.nextElementSibling}}function Uc(e,t){let a=e.previousElementSibling;for(;a;){if(a.matches(t))return a;a=a.previousElementSibling}}function eo(e){let t=l.useRef(e);return le(()=>{t.current=e}),t}var le=typeof window>"u"?l.useEffect:l.useLayoutEffect;function ge(e){let t=l.useRef();return t.current===void 0&&(t.current=e()),t}function oe(e){let t=Zt(),a=()=>e(t.snapshot());return l.useSyncExternalStore(t.subscribe,a,a)}function to(e,t,a,n=[]){let o=l.useRef(),s=Oe();return le(()=>{var c;let i=(()=>{var d;for(let u of a){if(typeof u=="string")return u.trim();if(typeof u=="object"&&"current"in u)return u.current?(d=u.current.textContent)==null?void 0:d.trim():o.current}})(),m=n.map(d=>d.trim());s.value(e,i,m),(c=t.current)==null||c.setAttribute(pe,i),o.current=i}),o}var Bc=()=>{let[e,t]=l.useState(),a=ge(()=>new Map);return le(()=>{a.current.forEach(n=>n()),a.current=new Map},[e]),(n,o)=>{a.current.set(n,o),t({})}};function Xc(e){let t=e.type;return typeof t=="function"?t(e.props):"render"in t?t.render(e.props):e}function ft({asChild:e,children:t},a){return e&&l.isValidElement(t)?l.cloneElement(Xc(t),{ref:t.ref},a(t.props.children)):a(t)}var Yc={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const Kc=ut,xd=Jt,Gc=mt,ao=l.forwardRef(({className:e,...t},a)=>r.jsx(je,{ref:a,className:y("fixed inset-0 z-50 bg-black/60 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));ao.displayName=je.displayName;const ro=l.forwardRef(({className:e,children:t,...a},n)=>r.jsxs(Gc,{children:[r.jsx(ao,{}),r.jsxs(Se,{ref:n,className:y("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border-2 bg-background p-6 shadow-2xl duration-300 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-xl",e),...a,children:[t,r.jsxs(_e,{className:"absolute right-4 top-4 rounded-lg opacity-70 ring-offset-background transition-all hover:opacity-100 hover:bg-accent hover:scale-110 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none p-1",children:[r.jsx(Lt,{className:"h-4 w-4"}),r.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));ro.displayName=Se.displayName;const Jc=({className:e,...t})=>r.jsx("div",{className:y("flex flex-col space-y-2 text-center sm:text-left",e),...t});Jc.displayName="DialogHeader";const Qc=({className:e,...t})=>r.jsx("div",{className:y("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2 gap-2",e),...t});Qc.displayName="DialogFooter";const Zc=l.forwardRef(({className:e,...t},a)=>r.jsx(De,{ref:a,className:y("text-xl font-semibold leading-none tracking-tight",e),...t}));Zc.displayName=De.displayName;const ed=l.forwardRef(({className:e,...t},a)=>r.jsx(Te,{ref:a,className:y("text-sm text-muted-foreground leading-relaxed",e),...t}));ed.displayName=Te.displayName;const no=l.forwardRef(({className:e,...t},a)=>r.jsx(U,{ref:a,className:y("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...t}));no.displayName=U.displayName;const td=({children:e,...t})=>r.jsx(Kc,{...t,children:r.jsx(ro,{className:"overflow-hidden p-0 shadow-lg",children:r.jsx(no,{className:"[&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground [&_[cmdk-group]:not([hidden])_~[cmdk-group]]:pt-0 [&_[cmdk-group]]:px-2 [&_[cmdk-input-wrapper]_svg]:h-5 [&_[cmdk-input-wrapper]_svg]:w-5 [&_[cmdk-input]]:h-12 [&_[cmdk-item]]:px-2 [&_[cmdk-item]]:py-3 [&_[cmdk-item]_svg]:h-5 [&_[cmdk-item]_svg]:w-5",children:e})})}),oo=l.forwardRef(({className:e,...t},a)=>r.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[r.jsx(Ya,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),r.jsx(U.Input,{ref:a,className:y("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e),...t})]}));oo.displayName=U.Input.displayName;const so=l.forwardRef(({className:e,...t},a)=>r.jsx(U.List,{ref:a,className:y("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...t}));so.displayName=U.List.displayName;const io=l.forwardRef((e,t)=>r.jsx(U.Empty,{ref:t,className:"py-6 text-center text-sm",...e}));io.displayName=U.Empty.displayName;const Ee=l.forwardRef(({className:e,...t},a)=>r.jsx(U.Group,{ref:a,className:y("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",e),...t}));Ee.displayName=U.Group.displayName;const Ye=l.forwardRef(({className:e,...t},a)=>r.jsx(U.Separator,{ref:a,className:y("-mx-1 h-px bg-border",e),...t}));Ye.displayName=U.Separator.displayName;const X=l.forwardRef(({className:e,...t},a)=>r.jsx(U.Item,{ref:a,className:y("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50",e),...t}));X.displayName=U.Item.displayName;function _a(){const[e,t]=l.useState(!1),[a,n]=l.useState(""),o=It(),{data:s}=Va();l.useEffect(()=>{const u=f=>{f.key==="k"&&(f.metaKey||f.ctrlKey)&&(f.preventDefault(),t(h=>!h))};return document.addEventListener("keydown",u),()=>document.removeEventListener("keydown",u)},[]),l.useEffect(()=>{e||n("")},[e]);const c=l.useMemo(()=>{if(!a)return s.equipos.slice(0,5);const u=a.toLowerCase();return s.equipos.filter(f=>f.nombre.toLowerCase().includes(u)||f.ficha.toLowerCase().includes(u)||(f.marca||"").toLowerCase().includes(u)||(f.modelo||"").toLowerCase().includes(u)).slice(0,5)},[s.equipos,a]),i=l.useMemo(()=>s.mantenimientosProgramados.filter(u=>u.activo&&u.horasKmRestante>0&&u.horasKmRestante<=100).sort((u,f)=>u.horasKmRestante-f.horasKmRestante).slice(0,5),[s.mantenimientosProgramados]),m=l.useMemo(()=>s.inventarios.filter(u=>u.activo&&u.cantidad<=u.stockMinimo).sort((u,f)=>u.cantidad-f.cantidad).slice(0,5),[s.inventarios]),d=u=>{t(!1),u()};return r.jsxs(r.Fragment,{children:[r.jsxs("button",{onClick:()=>t(!0),className:"hidden sm:inline-flex items-center gap-2 px-3 py-2 text-sm text-muted-foreground border border-border rounded-lg hover:bg-muted/50 transition-colors",children:[r.jsx(Ya,{className:"h-4 w-4"}),r.jsx("span",{children:"Buscar..."}),r.jsxs("kbd",{className:"hidden lg:inline-flex h-5 select-none items-center gap-1 rounded border bg-muted px-1.5 font-mono text-[10px] font-medium opacity-100",children:[r.jsx("span",{className:"text-xs",children:"â"}),"K"]})]}),r.jsxs(td,{open:e,onOpenChange:t,children:[r.jsx(oo,{placeholder:"Buscar equipos, mantenimientos, inventario...",value:a,onValueChange:n}),r.jsxs(so,{children:[r.jsx(io,{children:"No se encontraron resultados."}),r.jsxs(Ee,{heading:"NavegaciÃ³n",children:[r.jsxs(X,{onSelect:()=>d(()=>o("/")),children:[r.jsx(Xa,{className:"mr-2 h-4 w-4"}),r.jsx("span",{children:"Dashboard"})]}),r.jsxs(X,{onSelect:()=>d(()=>o("/equipos")),children:[r.jsx(Qe,{className:"mr-2 h-4 w-4"}),r.jsx("span",{children:"Equipos"})]}),r.jsxs(X,{onSelect:()=>d(()=>o("/control-mantenimiento")),children:[r.jsx(rt,{className:"mr-2 h-4 w-4"}),r.jsx("span",{children:"Control Mantenimiento"})]}),r.jsxs(X,{onSelect:()=>d(()=>o("/inventario")),children:[r.jsx(zt,{className:"mr-2 h-4 w-4"}),r.jsx("span",{children:"Inventario"})]}),r.jsxs(X,{onSelect:()=>d(()=>o("/mantenimiento")),children:[r.jsx(Je,{className:"mr-2 h-4 w-4"}),r.jsx("span",{children:"Mantenimiento"})]}),r.jsxs(X,{onSelect:()=>d(()=>o("/historial")),children:[r.jsx(Ba,{className:"mr-2 h-4 w-4"}),r.jsx("span",{children:"Historial"})]}),r.jsxs(X,{onSelect:()=>d(()=>o("/reportes")),children:[r.jsx(Co,{className:"mr-2 h-4 w-4"}),r.jsx("span",{children:"Reportes"})]}),r.jsxs(X,{onSelect:()=>d(()=>o("/configuraciones")),children:[r.jsx(Ka,{className:"mr-2 h-4 w-4"}),r.jsx("span",{children:"Configuraciones"})]})]}),c.length>0&&r.jsxs(r.Fragment,{children:[r.jsx(Ye,{}),r.jsx(Ee,{heading:"Equipos",children:c.map(u=>r.jsxs(X,{value:`equipo-${u.ficha}-${u.nombre}`,onSelect:()=>d(()=>o("/equipos",{state:{searchFicha:u.ficha}})),children:[r.jsx(Qe,{className:"mr-2 h-4 w-4 text-primary"}),r.jsxs("div",{className:"flex flex-col",children:[r.jsx("span",{className:"font-medium",children:u.nombre}),r.jsxs("span",{className:"text-xs text-muted-foreground",children:[u.ficha," â¢ ",u.marca," ",u.modelo]})]})]},u.id))})]}),i.length>0&&r.jsxs(r.Fragment,{children:[r.jsx(Ye,{}),r.jsx(Ee,{heading:"Mantenimientos PrÃ³ximos",children:i.map(u=>r.jsxs(X,{value:`mant-${u.ficha}-${u.tipoMantenimiento}`,onSelect:()=>d(()=>o("/control-mantenimiento",{state:{searchFicha:u.ficha}})),children:[r.jsx(Je,{className:"mr-2 h-4 w-4 text-amber-600"}),r.jsxs("div",{className:"flex flex-col",children:[r.jsx("span",{className:"font-medium",children:u.nombreEquipo}),r.jsxs("span",{className:"text-xs text-muted-foreground",children:[u.tipoMantenimiento," â¢ Faltan ",u.horasKmRestante.toFixed(1)," hrs"]})]})]},u.id))})]}),m.length>0&&r.jsxs(r.Fragment,{children:[r.jsx(Ye,{}),r.jsx(Ee,{heading:"Inventario - Stock Bajo",children:m.map(u=>r.jsxs(X,{value:`inv-${u.codigoIdentificacion}-${u.nombre}`,onSelect:()=>d(()=>o("/inventario")),children:[r.jsx(Ja,{className:"mr-2 h-4 w-4 text-destructive"}),r.jsxs("div",{className:"flex flex-col",children:[r.jsx("span",{className:"font-medium",children:u.nombre}),r.jsxs("span",{className:"text-xs text-muted-foreground",children:[u.codigoIdentificacion," â¢ Stock: ",u.cantidad," / Min: ",u.stockMinimo]})]})]},u.id))})]})]})]})]})}function bd({children:e,title:t}){const{migrateFromLocalStorage:a,importJsonData:n,syncJsonData:o,data:s,clearDatabase:c}=Va(),{importData:i}=Hs(),{toast:m}=Ot(),{config:d}=Ha(),[u,f]=l.useState(!1),h=!d.permitirImportaciones,g=async()=>{await a()},b=async()=>{f(!0)},p=async()=>{await c(),f(!1)},j=()=>{const N=JSON.stringify(s,null,2),E=new Blob([N],{type:"application/json"}),x=URL.createObjectURL(E),k=document.createElement("a");k.href=x,k.download=`equipos-backup-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(k),k.click(),document.body.removeChild(k),URL.revokeObjectURL(x),m({title:"Ãxito",description:"Datos exportados correctamente desde la base de datos."})},S=()=>{if(h){m({title:"Importaciones deshabilitadas",description:"Activa las importaciones manuales desde Configuraciones.",variant:"destructive"});return}const N=document.createElement("input");N.type="file",N.accept=".json",N.onchange=async E=>{var k;const x=(k=E.target.files)==null?void 0:k[0];if(x)try{const P=await i(x);await n(P)}catch(P){m({title:"Error",description:P instanceof Error?P.message:"Error desconocido",variant:"destructive"})}},N.click()},w=()=>{if(h){m({title:"Importaciones deshabilitadas",description:"Activa las importaciones manuales desde Configuraciones.",variant:"destructive"});return}const N=document.createElement("input");N.type="file",N.accept=".json",N.onchange=async E=>{var k;const x=(k=E.target.files)==null?void 0:k[0];if(x)try{const P=await i(x),A=await o(P),M=[];A.equipos.inserted.length&&M.push(`Equipos nuevos: ${A.equipos.inserted.join(", ")}`),A.equipos.updated.length&&M.push(`Equipos actualizados: ${A.equipos.updated.map(F=>`${F.ficha} (${F.cambios.join("; ")})`).join(" | ")}`),A.inventarios.inserted.length&&M.push(`Inventarios nuevos: ${A.inventarios.inserted.join(", ")}`),A.inventarios.updated.length&&M.push(`Inventarios actualizados: ${A.inventarios.updated.map(F=>`${F.codigo} (${F.cambios.join("; ")})`).join(" | ")}`),A.mantenimientosProgramados.inserted.length&&M.push(`Mantenimientos nuevos: ${A.mantenimientosProgramados.inserted.join(", ")}`),A.mantenimientosProgramados.updated.length&&M.push(`Mantenimientos actualizados: ${A.mantenimientosProgramados.updated.map(F=>`${F.ficha} (${F.tipo}) [${F.cambios.join("; ")}]`).join(" | ")}`),A.warnings.length&&console.warn("Advertencias de importaciÃ³n:",A.warnings);const $=M.length?M.join(`
`):"Cambios registrados en la base de datos.";m({title:A.totalChanges>0?"SincronizaciÃ³n completada":"SincronizaciÃ³n sin cambios",description:A.totalChanges>0?$:"No se detectaron cambios nuevos en el archivo importado."})}catch(P){m({title:"Error",description:P instanceof Error?P.message:"Error desconocido",variant:"destructive"})}},N.click()};return r.jsxs("div",{className:"min-h-screen bg-background text-foreground",children:[r.jsxs("header",{className:"border-b border-border/60 bg-card/80 shadow-sm backdrop-blur supports-[backdrop-filter]:bg-card/60 dark:border-border/40 dark:bg-card/70",children:[r.jsxs("div",{className:"mx-auto w-full max-w-[1600px] px-4 py-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"hidden sm:flex flex-col gap-4",children:[r.jsxs("div",{className:"flex items-start justify-between gap-6",children:[r.jsxs("div",{className:"flex items-center gap-6",children:[r.jsx(Xe,{}),r.jsxs("div",{className:"space-y-1",children:[r.jsx("div",{className:"flex items-center gap-2",children:r.jsx("p",{className:"text-xs font-semibold uppercase tracking-wider text-primary",children:"Panel activo"})}),r.jsx("h1",{className:"text-2xl font-bold text-foreground",children:t}),r.jsx("p",{className:"text-sm text-muted-foreground max-w-2xl",children:"Administra importaciones, sincronizaciones y respaldos del sistema."})]})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(_a,{}),r.jsx(Ca,{}),r.jsx(ba,{}),r.jsx(tt,{variant:"outline",className:"text-xs uppercase tracking-wider px-3 py-1.5",children:"V3.0.0"})]})]}),r.jsx("div",{className:"flex items-center gap-2",children:r.jsx($s,{onImport:S,onExport:j,onMigrate:g,onSmartImport:w,onClear:b,importDisabled:h})})]}),r.jsxs("div",{className:"flex sm:hidden items-center justify-between",children:[r.jsx("h1",{className:"text-lg font-bold truncate",children:t}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(_a,{}),r.jsx(Ca,{}),r.jsx(ba,{})]})]})]}),r.jsx(ic,{hideBrand:!0})]}),r.jsx("main",{className:"mx-auto w-full max-w-[1600px] px-4 py-6 sm:py-8 sm:px-6 lg:px-8 pb-20 sm:pb-8",children:e}),r.jsx(Sc,{}),r.jsx(Nc,{open:u,onOpenChange:f,onConfirm:p,title:"Vaciar base de datos",description:"Â¿EstÃ¡ seguro de que desea eliminar todos los datos de la base de datos? Esta acciÃ³n es irreversible y se perderÃ¡ toda la informaciÃ³n.",confirmText:"Eliminar todo",cancelText:"Cancelar",variant:"destructive"})]})}const ad=l.forwardRef(({className:e,...t},a)=>r.jsx("div",{ref:a,className:y("rounded-xl border bg-card text-card-foreground shadow-sm","transition-all duration-300","hover:shadow-md",e),...t}));ad.displayName="Card";const rd=l.forwardRef(({className:e,...t},a)=>r.jsx("div",{ref:a,className:y("flex flex-col space-y-2 p-6",e),...t}));rd.displayName="CardHeader";const nd=l.forwardRef(({className:e,...t},a)=>r.jsx("h3",{ref:a,className:y("text-2xl font-semibold leading-none tracking-tight","bg-gradient-to-br from-foreground to-foreground/70 bg-clip-text",e),...t}));nd.displayName="CardTitle";const od=l.forwardRef(({className:e,...t},a)=>r.jsx("p",{ref:a,className:y("text-sm text-muted-foreground leading-relaxed",e),...t}));od.displayName="CardDescription";const sd=l.forwardRef(({className:e,...t},a)=>r.jsx("div",{ref:a,className:y("p-6 pt-0",e),...t}));sd.displayName="CardContent";const id=l.forwardRef(({className:e,...t},a)=>r.jsx("div",{ref:a,className:y("flex items-center p-6 pt-0 gap-2",e),...t}));id.displayName="CardFooter";export{Po as $,No as A,tt as B,dd as C,Kc as D,jo as E,ed as F,Qc as G,Ba as H,yc as I,Wn as J,Hn as K,bd as L,Vn as M,Un as N,qn as O,zt as P,Xn as Q,To as R,$r as S,Ja as T,Bn as U,So as V,rt as W,Je as X,Ir as Y,Lr as Z,bo as _,$l as a,Co as a0,vd as a1,ia as a2,Ka as a3,W as a4,si as a5,ni as a6,Sa as a7,hd as a8,fd as a9,Xi as aa,sa as ab,_r as ac,Mo as ad,qs as ae,Mt as af,Dt as ag,id as ah,tr as ai,Qa as aj,$t as ak,Wt as al,kl as am,oa as an,ba as ao,yo as ap,Ro as aq,Xa as ar,on as b,sn as c,ln as d,cn as e,Qe as f,ad as g,rd as h,Ra as i,sd as j,nd as k,od as l,Rt as m,xd as n,ro as o,Jc as p,Zc as q,Wl as r,Ga as s,Ya as t,Vl as u,Nc as v,Xt as w,wo as x,_o as y,Ge as z};
