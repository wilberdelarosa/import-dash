import{r as i,n as w,o as P,p as U,q as j,j as C,t as L,P as O}from"./index-C_D-5Bfv.js";function F(n,e,{checkForDefaultPrevented:r=!0}={}){return function(t){if(n==null||n(t),r===!1||!t.defaultPrevented)return e==null?void 0:e(t)}}function W(n,e){return i.useReducer((r,o)=>e[r][o]??r,n)}var I=n=>{const{present:e,children:r}=n,o=$(e),t=typeof r=="function"?r({present:o.isPresent}):i.Children.only(r),c=w(o.ref,k(t));return typeof r=="function"||o.isPresent?i.cloneElement(t,{ref:c}):null};I.displayName="Presence";function $(n){const[e,r]=i.useState(),o=i.useRef(null),t=i.useRef(n),c=i.useRef("none"),l=n?"mounted":"unmounted",[m,a]=W(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return i.useEffect(()=>{const s=A(o.current);c.current=m==="mounted"?s:"none"},[m]),P(()=>{const s=o.current,f=t.current;if(f!==n){const N=c.current,u=A(s);n?a("MOUNT"):u==="none"||(s==null?void 0:s.display)==="none"?a("UNMOUNT"):a(f&&N!==u?"ANIMATION_OUT":"UNMOUNT"),t.current=n}},[n,a]),P(()=>{if(e){let s;const f=e.ownerDocument.defaultView??window,p=u=>{const b=A(o.current).includes(CSS.escape(u.animationName));if(u.target===e&&b&&(a("ANIMATION_END"),!t.current)){const R=e.style.animationFillMode;e.style.animationFillMode="forwards",s=f.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=R)})}},N=u=>{u.target===e&&(c.current=A(o.current))};return e.addEventListener("animationstart",N),e.addEventListener("animationcancel",p),e.addEventListener("animationend",p),()=>{f.clearTimeout(s),e.removeEventListener("animationstart",N),e.removeEventListener("animationcancel",p),e.removeEventListener("animationend",p)}}else a("ANIMATION_END")},[e,a]),{isPresent:["mounted","unmountSuspended"].includes(m),ref:i.useCallback(s=>{o.current=s?getComputedStyle(s):null,r(s)},[])}}function A(n){return(n==null?void 0:n.animationName)||"none"}function k(n){var o,t;let e=(o=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:o.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?n.ref:(e=(t=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:t.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?n.props.ref:n.props.ref||n.ref)}var v="Collapsible",[q,J]=U(v),[B,M]=q(v),S=i.forwardRef((n,e)=>{const{__scopeCollapsible:r,open:o,defaultOpen:t,disabled:c,onOpenChange:l,...m}=n,[a,s]=j({prop:o,defaultProp:t??!1,onChange:l,caller:v});return C.jsx(B,{scope:r,disabled:c,contentId:L(),open:a,onOpenToggle:i.useCallback(()=>s(f=>!f),[s]),children:C.jsx(O.div,{"data-state":y(a),"data-disabled":c?"":void 0,...m,ref:e})})});S.displayName=v;var E="CollapsibleTrigger",_=i.forwardRef((n,e)=>{const{__scopeCollapsible:r,...o}=n,t=M(E,r);return C.jsx(O.button,{type:"button","aria-controls":t.contentId,"aria-expanded":t.open||!1,"data-state":y(t.open),"data-disabled":t.disabled?"":void 0,disabled:t.disabled,...o,ref:e,onClick:F(n.onClick,t.onOpenToggle)})});_.displayName=E;var x="CollapsibleContent",D=i.forwardRef((n,e)=>{const{forceMount:r,...o}=n,t=M(x,n.__scopeCollapsible);return C.jsx(I,{present:r||t.open,children:({present:c})=>C.jsx(G,{...o,ref:e,present:c})})});D.displayName=x;var G=i.forwardRef((n,e)=>{const{__scopeCollapsible:r,present:o,children:t,...c}=n,l=M(x,r),[m,a]=i.useState(o),s=i.useRef(null),f=w(e,s),p=i.useRef(0),N=p.current,u=i.useRef(0),g=u.current,b=l.open||m,R=i.useRef(b),h=i.useRef(void 0);return i.useEffect(()=>{const d=requestAnimationFrame(()=>R.current=!1);return()=>cancelAnimationFrame(d)},[]),P(()=>{const d=s.current;if(d){h.current=h.current||{transitionDuration:d.style.transitionDuration,animationName:d.style.animationName},d.style.transitionDuration="0s",d.style.animationName="none";const T=d.getBoundingClientRect();p.current=T.height,u.current=T.width,R.current||(d.style.transitionDuration=h.current.transitionDuration,d.style.animationName=h.current.animationName),a(o)}},[l.open,o]),C.jsx(O.div,{"data-state":y(l.open),"data-disabled":l.disabled?"":void 0,id:l.contentId,hidden:!b,...c,ref:f,style:{"--radix-collapsible-content-height":N?`${N}px`:void 0,"--radix-collapsible-content-width":g?`${g}px`:void 0,...n.style},children:b&&t})});function y(n){return n?"open":"closed"}var V=S;const K=V,Q=_,X=D;export{K as C,Q as a,X as b};
